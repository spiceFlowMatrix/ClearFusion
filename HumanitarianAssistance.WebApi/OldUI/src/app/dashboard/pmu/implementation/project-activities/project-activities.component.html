
<!-- <div class="row">
  <div class="col-sm-12">
      <div class="main-heading clearfix">
            <h3 class="page-heading">Project Activities</h3>
            <dx-button
                  class="button-info btn btn-default btn-green"
                  text="Back" (onClick)="addProjectPMU()" [routerLink]="['../implementation']">
            </dx-button>     
            <dx-button 
                  class="button-info btn btn-default btn-green" 
                  text="Add New" (onClick)="ShowPopup()">
            </dx-button>      
      </div>        
      <dx-data-grid 
      id="gridContainer" 
      [dataSource]="dataSource"
      [allowColumnReordering]="true"
      [allowColumnResizing]="true"
      [columnAutoWidth]="true">
      <dxo-column-chooser [enabled]="true" ></dxo-column-chooser> 


      <dxo-paging [pageSize]="7"></dxo-paging>
      <dxo-pager [allowedPageSizes]="[5, 8, 15, 30]" [showInfo]="true" [showNavigationButtons]="true" [showPageSizeSelector]="true"
            [visible]="true">
      </dxo-pager>

      <dxo-scrolling mode="infinite">
      </dxo-scrolling>

      <dxo-editing mode="popup" [allowUpdating]="true" [allowDeleting]="false" [allowAdding]="false" >
            <dxo-popup title="Add/Edit PMU Activity Details" [showTitle]="true" [width]="700" [height]="345" [position]="{ my: 'center', at: 'center', of: window }">
            </dxo-popup>
      </dxo-editing>

      <dxo-filter-row [visible]="true">
      </dxo-filter-row>

      <dxo-header-filter [visible]="true"></dxo-header-filter>

      <dxo-search-panel [visible]="true" [width]="240" placeholder="Search..."></dxo-search-panel>

      <dxo-filter-row 
            [visible]="true">
      </dxo-filter-row>

      <dxo-header-filter 
            [visible]="true">
      </dxo-header-filter>

      <dxo-search-panel 
            [visible]="true" 
            [width]="240" 
            placeholder="Search...">
      </dxo-search-panel>

      <dxi-column 
            dataField="ActivityDesc"                 
            caption="Activity Desc">
            <dxi-validation-rule type="required"></dxi-validation-rule>          
      </dxi-column>
      <dxi-column 
            dataField="PlannedStartDate" 
            caption="Planned Start Date" dataType="date">     
            <dxi-validation-rule type="required"></dxi-validation-rule>     
      </dxi-column>      
      <dxi-column 
            dataField="PlannedEndDate"
            caption="Planned End Date" dataType="date">
            <dxi-validation-rule type="required"></dxi-validation-rule>
      </dxi-column>
      <dxi-column dataField="BudgetLine" >
            <dxi-validation-rule type="required"></dxi-validation-rule>
            <dxo-lookup
                  [dataSource]="budgettype"
                  valueExpr="BudgetTypeId"
                  displayExpr="BudgetTypeName">
            </dxo-lookup>
      </dxi-column>
      <dxi-column dataField="Resource">
            <dxi-validation-rule type="required"></dxi-validation-rule>
            <dxo-lookup
            [dataSource]="resourcetype"
            valueExpr="ResourceTypeId"
            displayExpr="ResourceTypeName">
            </dxo-lookup>
      </dxi-column>
      <dxi-column dataField="LocationOfActivity" caption="Activity Location">
            <dxi-validation-rule type="required"></dxi-validation-rule>
            <dxo-lookup
            [dataSource]="activitylocationtype"
            valueExpr="ActivityLocationTypeId"
            displayExpr="ActivityLocationTypeName">
            </dxo-lookup>
      </dxi-column>
      <dxi-column 
            dataField="ActualStartDate"
            caption="Actual Start Date" dataType="date">
            <dxi-validation-rule type="required"></dxi-validation-rule>
      </dxi-column>
      <dxi-column 
            dataField="ActualEndDate"
            caption="Actual End Date" dataType="date">
            <dxi-validation-rule type="required"></dxi-validation-rule>
      </dxi-column>
      <dxi-column 
            dataField="ImplementationMethod"
            caption="Implementation Method">
            <dxi-validation-rule type="required"></dxi-validation-rule>
      </dxi-column>
      <dxi-column 
            dataField="Challenges"
            caption="Challenges">
            <dxi-validation-rule type="required"></dxi-validation-rule>
      </dxi-column>
      <dxi-column 
            dataField="OvercomingChallenges"
            caption="Overcoming Challenges">
            <dxi-validation-rule type="required"></dxi-validation-rule>
      </dxi-column>
      <dxi-column 
            dataField="DeviationJustification"
            caption="Deviation Justification">
            <dxi-validation-rule type="required"></dxi-validation-rule>
      </dxi-column>
      <dxi-column 
            dataField="RecurringType"
            caption="Recurring Type">
            <dxi-validation-rule type="required"></dxi-validation-rule>
      </dxi-column>
      <dxi-column 
            dataField="RecurringDay"
            caption="Recurring Day">
            <dxi-validation-rule type="required"></dxi-validation-rule>
      </dxi-column>
      <dxi-column 
            dataField="RecurringMonth"
            caption="Recurring Month">
            <dxi-validation-rule type="required"></dxi-validation-rule>
      </dxi-column>
      <dxi-column 
            dataField="RecurringWeekday"
            caption="Recurring WeekDay">
            <dxi-validation-rule type="required"></dxi-validation-rule>
      </dxi-column> 
      <dxi-column 
            dataField="Complete"
            caption="Complete">
            <dxi-validation-rule type="required"></dxi-validation-rule>

      </dxi-column>

      <dxi-column dataField="Documents" caption="Documents" cellTemplate="CellTemplateDocument">
      </dxi-column>          
      <div *dxTemplate="let data of 'CellTemplateDocument'">
            <a [routerLink]="['../documents']">Document</a>
      </div>

      <dxi-column caption="Action" alignment="center" cellTemplate="CellTemplateEdit"></dxi-column>
      <div *dxTemplate="let data of 'CellTemplateEdit'">         
          <a href="javascript:void(0)" (click)="GetActivitiesDetail(data)">Edit</a>
      </div>

</dx-data-grid>  
</div>
</div> -->

<!-- Add Modal -->
<!-- <dx-popup class="popup" [width]="600" [height]="800" [showTitle]="true" title="Add/Edit Project Activities Details" [dragEnabled]="false" [closeOnOutsideClick]="true"
[(visible)]="popupAddActivitiesVisible">

<div *dxTemplate="let data of 'content'">

<form action="your-action" (submit)="onFormSubmit(activitiesdata)">
      <dx-form id="form" [formData]="activitiesdata" [readOnly]="false" [showColonAfterLabel]="true" [showValidationSummary]="true" validationGroup="customerData">
            <dxi-item dataField="ActivityDesc" >
                  <dxi-validation-rule type="required" message="Activity Description is required">
                  </dxi-validation-rule>
            </dxi-item>
            <dxi-item dataField="PlannedStartDate" editorType="dxDateBox">
                  <dxi-validation-rule type="required" message="Planned Start Date  is required">
                  </dxi-validation-rule>
            </dxi-item>
            <dxi-item dataField="PlannedEndDate" editorType="dxDateBox">
                  <dxi-validation-rule type="required" message="Planned End Date  is required">
                  </dxi-validation-rule>
            </dxi-item>
            <dxi-item dataField="BudgetLine" editorType="dxSelectBox" [editorOptions]="{ dataSource: budgettype, displayExpr: 'BudgetTypeName', valueExpr: 'BudgetTypeId'  }">
                  <dxi-validation-rule type="required" message="Budget Line is required">
                  </dxi-validation-rule>
            </dxi-item>
            <dxi-item dataField="Resource" editorType="dxTagBox" [editorOptions]="{ dataSource: resourcetype, displayExpr: 'ResourceTypeName', valueExpr: 'ResourceTypeId', showSelectionControls: 'true', applyValueMode: 'useButtons' }">
                  <dxi-validation-rule type="required" message="Resource is required">
                  </dxi-validation-rule>
            </dxi-item>
            <dxi-item dataField="LocationOfActivity" editorType="dxSelectBox" [editorOptions]="{ dataSource: activitylocationtype, displayExpr: 'ActivityLocationTypeName', valueExpr: 'ActivityLocationTypeId'  }">
                  <dxi-validation-rule type="required" message="Activity Location is required">
                  </dxi-validation-rule>
            </dxi-item>
            <dxi-item dataField="TaskType" (onValueChanged)="changeTaskType($event)">
                  <dxi-validation-rule type="required" message="Task Type is required">
                  </dxi-validation-rule>
                  <dx-radio-group
                  [dataSource]="tasks"
                  displayExpr="tasktype"
                  valueExpr="tasktypevalue"
                  layout="horizontal">
                  </dx-radio-group>
            </dxi-item> 

            <dxi-item dataField="RecurringType" (onValueChanged)="changeRecurringTaskType($event)" >
                  <dxi-validation-rule type="required" message="Recurring Type is required">
                  </dxi-validation-rule>
                  <dx-radio-group
                  [dataSource]="recurringTasks"
                  displayExpr="recurringTaskType"
                  valueExpr="recurringTaskTypeValue"
                  layout="horizontal">
                  </dx-radio-group>
            </dxi-item>  

            <dxi-item dataField="RecurringDuration" caption="Recurring Duration">
                  <dxi-validation-rule type="required" message="Recurring Duration is required">
                  </dxi-validation-rule>
                  <dx-check-box #showBox
                        text="Sunday">
                  </dx-check-box>  
                  <dx-check-box #showBox
                        text="Monday">
                  </dx-check-box>  
                  <dx-check-box #showBox
                        text="Tuesday">
                  </dx-check-box>  
                  <dx-check-box #showBox
                        text="Wednesday">
                  </dx-check-box>  
                  <dx-check-box #showBox
                        text="Thursday">
                  </dx-check-box>  
                  <dx-check-box #showBox
                        text="Friday">
                  </dx-check-box>  
                  <dx-check-box #showBox
                        text="Saturday">
                  </dx-check-box>
            </dxi-item>  
            <dxi-item dataField="DayOfMonth" caption="Day Of Month" editorType="dxSelectBox" [editorOptions]="{ dataSource: dayOfMonth, displayExpr: 'dayOfMonthName', valueExpr: 'dayOfMonthId'  }">
                  <dxi-validation-rule type="required" message="Day Of Month is required">
                  </dxi-validation-rule>
            </dxi-item>   
            <dxi-item dataField="Month" caption="Month" editorType="dxSelectBox" [editorOptions]="{ dataSource: month, displayExpr: 'MonthName', valueExpr: 'MonthId'  }">
                  <dxi-validation-rule type="required" message="Month is required">
                  </dxi-validation-rule>
            </dxi-item>
      </dx-form>
      <br />
      <div class="btn-grp-wrap">
            <dx-button text="Add" type="success" validationGroup="customerData" [useSubmitBehavior]="true">
            </dx-button>
            <dx-button text="Cancel" (onClick)="HidePopup()">
            </dx-button>
      </div>
</form>
</div>

</dx-popup> -->
