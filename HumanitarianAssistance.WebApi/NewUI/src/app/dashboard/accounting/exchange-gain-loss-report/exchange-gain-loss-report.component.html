<lib-sub-header-template>
  <span class="action_header">Results
    <hum-button [type]="'add'" [text]="'CONSOLIDATE EXCHANGE GAIN/LOSS'" (click)="consolidate()"></hum-button>
  </span>
  <div class="action_section">
    <hum-button [type]="'filter'" [text]="'TRANSACTION FILTERS'" (click)="showFilters=!showFilters"></hum-button>
    <hum-button [type]="'filter'" [text]="'CONFIGURATION'" (click)="showConfiguration()"></hum-button>
  </div>
</lib-sub-header-template>
<mat-divider></mat-divider>
<div class="row" [ngStyle]="scrollStyles" *ngIf="!showFilters; else filters">
  <div class="col-md-12">

    <mat-table #table [dataSource]="dataSource">

      <ng-container matColumnDef="Checked">
        <mat-header-cell *matHeaderCellDef>Select</mat-header-cell>
        <mat-cell *matCellDef="let element">
          <mat-checkbox [(ngModel)]="element.Checked"></mat-checkbox>
        </mat-cell>
      </ng-container>

      <ng-container matColumnDef="AccountCode">
        <mat-header-cell *matHeaderCellDef> Account Code </mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element.AccountCode}} </mat-cell>
      </ng-container>

      <ng-container matColumnDef="AccountName">
        <mat-header-cell *matHeaderCellDef> Account Name </mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element.AccountName}} </mat-cell>
      </ng-container>

      <ng-container matColumnDef="BalanceOnOriginalTransactionDates">
        <mat-header-cell *matHeaderCellDef> Bal. On Original Dates </mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element.BalanceOnOriginalTransactionDates}} </mat-cell>
      </ng-container>

      <ng-container matColumnDef="BalanceOnComparisionDate">
        <mat-header-cell *matHeaderCellDef> Bal. On Comparision Date </mat-header-cell>
        <mat-cell *matCellDef="let element"> {{element.BalanceOnComparisionDate}} </mat-cell>
      </ng-container>

      <ng-container matColumnDef="ResultingGainLoss">
        <mat-header-cell *matHeaderCellDef> Resulting Gain/Loss </mat-header-cell>
        <mat-cell *matCellDef="let element"><span
            [ngClass]="getLabelClass(element.ResultingGainLoss)">{{labelText}}</span> {{element.ResultingGainLoss}}
        </mat-cell>
      </ng-container>

      <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
      <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
    </mat-table>
    <!-- <mat-paginator [length]="purchaseRecordCount" [pageSize]="filterValueModel.PageSize"
        [pageSizeOptions]="[10, 5, 25, 100]" (page)="pageEvent($event)">
      </mat-paginator> -->
  </div>
</div>
<ng-template #filters>
  <mat-card>
    <h3>Voucher Transaction Filters</h3>
    <div class="row">
      <form [formGroup]="transactionFiltersForm">
        <div class="col-sm-12">
          <mat-form-field>
            <mat-label>Offices</mat-label>
            <mat-select formControlName="offices" multiple>
              <mat-option *ngFor="let office of officeList" [value]="office.OfficeId">{{office.OfficeName}}</mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <div class="col-sm-12">
          <mat-form-field>
            <mat-label>Journals</mat-label>
            <mat-select formControlName="journals" multiple>
              <mat-option *ngFor="let journal of journalList" [value]="journal.JournalCode">
                {{journal.JournalCode+'-'+journal.JournalName}}</mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <div class="col-sm-12">
          <mat-form-field>
            <mat-label>Projects</mat-label>
            <mat-select formControlName="projects" multiple>
              <mat-option *ngFor="let project of projectList" [value]="project.ProjectId">
                {{project.ProjectCode + '-'+ project.ProjectName}}</mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <div class="col-sm-12">
          <mat-form-field>
          <mat-label>Accounts</mat-label>
          <mat-select formControlName="accounts" multiple>
            <mat-option *ngFor="let topping of toppingList" [value]="topping">{{topping}}</mat-option>
          </mat-select>
        </mat-form-field>
        </div>
        <div class="col-sm-12">
          <hum-button [disabled]="!transactionFiltersForm.valid" [isSubmit]="true" [type]="'save'" [text]="'APPLY'">
          </hum-button>
          <hum-button (click)='showFilters=!showFilters' [type]="'cancel'" [text]="'cancel'"></hum-button>
        </div>
      </form>
    </div>
  </mat-card>
</ng-template>

<app-configuration-filter></app-configuration-filter>
