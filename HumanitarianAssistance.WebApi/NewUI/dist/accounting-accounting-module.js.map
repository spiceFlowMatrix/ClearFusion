{"version":3,"sources":["webpack:///./node_modules/rxjs-compat/_esm5/observable/forkJoin.js","webpack:///./src/app/dashboard/accounting/accounting-routing.module.ts","webpack:///./src/app/dashboard/accounting/accounting.component.html","webpack:///./src/app/dashboard/accounting/accounting.component.scss","webpack:///./src/app/dashboard/accounting/accounting.component.ts","webpack:///./src/app/dashboard/accounting/accounting.module.ts","webpack:///./src/app/dashboard/accounting/exchange-gain-loss-report/configuration-filter/configuration-filter.component.html","webpack:///./src/app/dashboard/accounting/exchange-gain-loss-report/configuration-filter/configuration-filter.component.scss","webpack:///./src/app/dashboard/accounting/exchange-gain-loss-report/configuration-filter/configuration-filter.component.ts","webpack:///./src/app/dashboard/accounting/exchange-gain-loss-report/consolidate-gain-loss/consolidate-gain-loss.component.html","webpack:///./src/app/dashboard/accounting/exchange-gain-loss-report/consolidate-gain-loss/consolidate-gain-loss.component.scss","webpack:///./src/app/dashboard/accounting/exchange-gain-loss-report/consolidate-gain-loss/consolidate-gain-loss.component.ts","webpack:///./src/app/dashboard/accounting/exchange-gain-loss-report/exchange-gain-loss-report.component.html","webpack:///./src/app/dashboard/accounting/exchange-gain-loss-report/exchange-gain-loss-report.component.scss","webpack:///./src/app/dashboard/accounting/exchange-gain-loss-report/exchange-gain-loss-report.component.ts","webpack:///./src/app/dashboard/accounting/exchange-gain-loss-report/exchange-gain-loss-report.service.ts","webpack:///./src/app/dashboard/accounting/journal-report/journal-report.component.html","webpack:///./src/app/dashboard/accounting/journal-report/journal-report.component.scss","webpack:///./src/app/dashboard/accounting/journal-report/journal-report.component.ts","webpack:///./src/app/dashboard/accounting/ledger-statement-report/ledger-statement-report.component.html","webpack:///./src/app/dashboard/accounting/ledger-statement-report/ledger-statement-report.component.scss","webpack:///./src/app/dashboard/accounting/ledger-statement-report/ledger-statement-report.component.ts","webpack:///./src/app/dashboard/accounting/report-services/report.service.ts","webpack:///./src/app/dashboard/accounting/trial-balance-report/trial-balance-report.component.html","webpack:///./src/app/dashboard/accounting/trial-balance-report/trial-balance-report.component.scss","webpack:///./src/app/dashboard/accounting/trial-balance-report/trial-balance-report.component.ts"],"names":[],"mappings":"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","file":"accounting-accounting-module.js","sourcesContent":["export { forkJoin } from 'rxjs';\n//# sourceMappingURL=forkJoin.js.map","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { AccountingComponent } from './accounting.component';\r\nimport {\r\n  ApplicationModule,\r\n  accountingNewMaster\r\n} from 'src/app/shared/applicationpagesenum';\r\nimport { RoleGuardService } from 'src/app/shared/services/role-guard';\r\nimport { JournalReportComponent } from './journal-report/journal-report.component';\r\nimport { LedgerStatementReportComponent } from './ledger-statement-report/ledger-statement-report.component';\r\nimport { TrialBalanceReportComponent } from './trial-balance-report/trial-balance-report.component';\r\nimport { ExchangeGainLossReportComponent } from './exchange-gain-loss-report/exchange-gain-loss-report.component';\r\n\r\nconst ModuleId: number = ApplicationModule.AccountingNew;\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: AccountingComponent,\r\n    children: [\r\n      {\r\n        path: 'chart-of-accounts',\r\n        loadChildren: './chart-of-accounts/chart-of-accounts.module#ChartOfAccountsModule',\r\n        canActivate: [RoleGuardService],\r\n        data: {\r\n          module: ModuleId,\r\n          isModule: true\r\n        }\r\n      },\r\n      {\r\n        path: 'financial-report',\r\n        loadChildren: './financial-report/financial-report.module#FinancialReportModule',\r\n        canActivate: [RoleGuardService],\r\n        data: {\r\n          module: ModuleId,\r\n          isModule: true\r\n        }\r\n      },\r\n      {\r\n        path: 'vouchers',\r\n        loadChildren: './vouchers/vouchers.module#VouchersModule',\r\n        canActivate: [RoleGuardService],\r\n        data: {\r\n          module: ModuleId,\r\n          page: accountingNewMaster.Vouchers\r\n        }\r\n      },\r\n      {\r\n        path: 'gain-loss-report',\r\n        loadChildren: './gain-loss-report/gain-loss-report.module#GainLossReportModule',\r\n        canActivate: [RoleGuardService],\r\n        data: {\r\n          module: ModuleId,\r\n          page: accountingNewMaster.ExchangeGainLoss\r\n        }\r\n      },\r\n      {\r\n        path: 'exchange-rate',\r\n        loadChildren: './exchange-rate/exchange-rate.module#ExchangeRateModule',\r\n        canActivate: [RoleGuardService],\r\n        data: {\r\n          module: ModuleId,\r\n          page: accountingNewMaster.ExchangeRates\r\n        }\r\n      },\r\n      {\r\n        path: 'journal-report',\r\n        component: JournalReportComponent\r\n      },\r\n      {\r\n        path: 'ledger-report',\r\n        component: LedgerStatementReportComponent\r\n      },\r\n      {\r\n        path: 'trial-balance',\r\n        component: TrialBalanceReportComponent\r\n      },\r\n      {\r\n        path: 'exchange-gain-loss-report',\r\n        component: ExchangeGainLossReportComponent\r\n      },\r\n\r\n      // {\r\n      //   path: 'voucher-summary-report',\r\n      //   loadChildren: './voucher-summary-report/voucher-summary-report.module#VoucherSummaryReportModule',\r\n      //   canActivate: [RoleGuardService],\r\n      //   data: {\r\n      //     module: ModuleId,\r\n      //     page: accountingNewMaster.VoucherSummaryReport\r\n      //   }\r\n      // }\r\n    ]\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule] // important to export\r\n})\r\nexport class AccountingRoutingModule {}\r\n","module.exports = \"<div class=\\\"accounting-main\\\">\\r\\n  <div class=\\\"main_body\\\">\\r\\n  <router-outlet></router-outlet>\\r\\n\\r\\n  </div>\\r\\n</div>\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Rhc2hib2FyZC9hY2NvdW50aW5nL2FjY291bnRpbmcuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\r\nimport { GlobalService } from '../../shared/services/global-services.service';\r\nimport { UIModuleHeaders } from '../../shared/enum';\r\n\r\n@Component({\r\n  selector: 'app-accounting',\r\n  templateUrl: './accounting.component.html',\r\n  styleUrls: ['./accounting.component.scss']\r\n})\r\nexport class AccountingComponent implements OnInit {\r\n\r\n  constructor() {\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { AccountingComponent } from './accounting.component';\r\nimport { AccountingRoutingModule } from './accounting-routing.module';\r\nimport { VoucherService } from './vouchers/voucher.service';\r\nimport { JournalReportComponent } from './journal-report/journal-report.component';\r\nimport { LedgerStatementReportComponent } from './ledger-statement-report/ledger-statement-report.component';\r\nimport { TrialBalanceReportComponent } from './trial-balance-report/trial-balance-report.component';\r\nimport { MatInputModule, MatSelectModule, MatCardModule, MatDatepickerModule, MatButtonModule,\r\n  MatDividerModule, MatIconModule, MatPaginatorModule, MatTableModule, MatCheckboxModule, MatTabsModule } from '@angular/material';\r\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\r\nimport { LibraryModule, SubHeaderTemplateModule } from 'projects/library/src/public_api';\r\nimport { SatDatepickerModule, SatNativeDateModule } from 'saturn-datepicker';\r\nimport { MatRangeDatepickerModule, MatRangeNativeDateModule } from 'mat-range-datepicker';\r\nimport { ExchangeGainLossReportComponent } from './exchange-gain-loss-report/exchange-gain-loss-report.component';\r\nimport { ConfigurationFilterComponent } from './exchange-gain-loss-report/configuration-filter/configuration-filter.component';\r\nimport { ConsolidateGainLossComponent } from './exchange-gain-loss-report/consolidate-gain-loss/consolidate-gain-loss.component';\r\nimport { ExchangeGainLossReportService } from './exchange-gain-loss-report/exchange-gain-loss-report.service';\r\n\r\n@NgModule({\r\n  imports: [\r\n    MatInputModule,\r\n    MatSelectModule,\r\n    MatButtonModule,\r\n    MatDatepickerModule,\r\n    MatDividerModule,\r\n    MatIconModule,\r\n    MatPaginatorModule,\r\n    SatDatepickerModule,\r\n    SatNativeDateModule,\r\n    LibraryModule,\r\n    SubHeaderTemplateModule,\r\n    MatCardModule,\r\n    CommonModule,\r\n    ReactiveFormsModule,\r\n    FormsModule,\r\n    MatTableModule,\r\n    MatTabsModule,\r\n    MatCheckboxModule,\r\n    AccountingRoutingModule // Routing\r\n  ],\r\n  declarations: [\r\n    AccountingComponent,\r\n    JournalReportComponent,\r\n    LedgerStatementReportComponent,\r\n    TrialBalanceReportComponent,\r\n    ExchangeGainLossReportComponent,\r\n    ConfigurationFilterComponent,\r\n    ConsolidateGainLossComponent,\r\n  ],\r\n  providers: [\r\n    VoucherService,\r\n    ExchangeGainLossReportService\r\n  ],\r\n  exports: [],\r\n  entryComponents: [\r\n  ]\r\n})\r\nexport class AccountingModule {}\r\n","module.exports = \"<hum-config-card [showCard]=\\\"showConfig\\\" (cardState)=\\\"getState($event)\\\">\\r\\n  <div title>Calculator Configuration</div>\\r\\n  <mat-divider></mat-divider>\\r\\n  <div content class=\\\"padding_top_30\\\">\\r\\n    <form [formGroup] = \\\"gainLossConfigForm\\\" (ngSubmit)=\\\"saveCalculatorConfigData()\\\">\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"col-sm-12\\\">\\r\\n          <b>Consolidation Currency</b>\\r\\n        </div>\\r\\n        <div class=\\\"col-sm-12\\\">\\r\\n          <lib-hum-dropdown [validation]=\\\"gainLossConfigForm.controls['CurrencyId'].hasError('required')\\\"\\r\\n            [options]=\\\"currency$\\\" formControlName='CurrencyId' [placeHolder]=\\\"'Currency'\\\"></lib-hum-dropdown>\\r\\n        </div>\\r\\n        <br>\\r\\n        <div class=\\\"col-sm-12\\\">\\r\\n          <b>Accounting Period</b>\\r\\n          <hum-button [type]=\\\"'add'\\\" [text]=\\\"'USE DEFAULT'\\\" (click)=\\\"useDefault($event, 'period')\\\"></hum-button>\\r\\n        </div>\\r\\n        <div class=\\\"col-sm-12\\\">\\r\\n          <mat-form-field>\\r\\n            <input matInput [matDatepicker]=\\\"StartDate\\\" formControlName='StartDate' placeholder=\\\"Start Date\\\">\\r\\n            <mat-datepicker-toggle matSuffix [for]=\\\"StartDate\\\"></mat-datepicker-toggle>\\r\\n            <mat-datepicker #StartDate></mat-datepicker>\\r\\n          </mat-form-field>\\r\\n        </div>\\r\\n        <div class=\\\"col-sm-12\\\">\\r\\n          <mat-form-field>\\r\\n            <input matInput [matDatepicker]=\\\"EndDate\\\" formControlName='EndDate' placeholder=\\\"End Date\\\">\\r\\n            <mat-datepicker-toggle matSuffix [for]=\\\"EndDate\\\"></mat-datepicker-toggle>\\r\\n            <mat-datepicker #EndDate></mat-datepicker>\\r\\n          </mat-form-field>\\r\\n        </div>\\r\\n        <br>\\r\\n        <div class=\\\"col-sm-12\\\">\\r\\n          <b>Comparision Date</b>\\r\\n          <hum-button [type]=\\\"'add'\\\" [text]=\\\"'USE DEFAULT'\\\" (click)=\\\"useDefault($event, 'comparisionDate')\\\"></hum-button>\\r\\n        </div>\\r\\n        <div class=\\\"col-sm-12\\\">\\r\\n          <mat-form-field>\\r\\n            <input matInput [matDatepicker]=\\\"ComparisionDate\\\" formControlName='ComparisionDate'\\r\\n              placeholder=\\\"Comparision Date\\\">\\r\\n            <mat-datepicker-toggle matSuffix [for]=\\\"ComparisionDate\\\"></mat-datepicker-toggle>\\r\\n            <mat-datepicker #ComparisionDate></mat-datepicker>\\r\\n          </mat-form-field>\\r\\n        </div>\\r\\n        <br>\\r\\n        <div class=\\\"col-sm-12\\\">\\r\\n          <b>NET Gain/Loss Accounts</b>\\r\\n        </div>\\r\\n        <div class=\\\"col-sm-12\\\">\\r\\n          <lib-hum-dropdown [validation]=\\\"gainLossConfigForm.controls['DebitAccount'].hasError('required')\\\"\\r\\n            [options]=\\\"accounts$\\\" formControlName='DebitAccount' [placeHolder]=\\\"'Credit Account for NET Gains'\\\"\\r\\n            (change)=\\\"getCreditAccountSelectedValue($event)\\\">\\r\\n          </lib-hum-dropdown>\\r\\n        </div>\\r\\n        <div class=\\\"col-sm-12\\\">\\r\\n          <lib-hum-dropdown [validation]=\\\"gainLossConfigForm.controls['CreditAccount'].hasError('required')\\\"\\r\\n            [options]=\\\"accounts$\\\" formControlName='CreditAccount' [placeHolder]=\\\"'Debit Account for NET Losses'\\\"\\r\\n            (change)=\\\"getDebitAccountSelectedValue($event)\\\">\\r\\n          </lib-hum-dropdown>\\r\\n        </div>\\r\\n        <br>\\r\\n        <div class=\\\"col-sm-12\\\">\\r\\n          <hum-button [disabled]=\\\"!gainLossConfigForm.valid\\\" [isSubmit]=\\\"true\\\" [type]=\\\"'save'\\\" [text]=\\\"'save'\\\">\\r\\n          </hum-button>\\r\\n        </div>\\r\\n      </div>\\r\\n    </form>\\r\\n  </div>\\r\\n  <div footer>\\r\\n  </div>\\r\\n</hum-config-card>\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Rhc2hib2FyZC9hY2NvdW50aW5nL2V4Y2hhbmdlLWdhaW4tbG9zcy1yZXBvcnQvY29uZmlndXJhdGlvbi1maWx0ZXIvY29uZmlndXJhdGlvbi1maWx0ZXIuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit, HostListener, ElementRef, OnDestroy, Output, EventEmitter } from '@angular/core';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { FieldConfigService } from 'src/app/store/services/field-config.service';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\nimport { Observable } from 'rxjs/internal/Observable';\r\nimport { IDropDownModel } from 'src/app/store/models/purchase';\r\nimport { of } from 'rxjs/internal/observable/of';\r\nimport { forkJoin } from 'rxjs/observable/forkJoin';\r\nimport { takeUntil } from 'rxjs/internal/operators/takeUntil';\r\nimport { ReplaySubject } from 'rxjs/internal/ReplaySubject';\r\nimport { ExchangeGainLossReportService } from '../exchange-gain-loss-report.service';\r\nimport { StaticUtilities } from 'src/app/shared/static-utilities';\r\n\r\n@Component({\r\n  selector: 'app-configuration-filter',\r\n  templateUrl: './configuration-filter.component.html',\r\n  styleUrls: ['./configuration-filter.component.scss']\r\n})\r\nexport class ConfigurationFilterComponent implements OnInit, OnDestroy {\r\n\r\n  showConfig = false;\r\n  gainLossConfigForm: FormGroup;\r\n  defaultFinancialYearDate: IDefaultFinancialYearDate;\r\n  currency$: Observable<IDropDownModel[]>;\r\n  accounts$: Observable<IDropDownModel[]>;\r\n  accountsList: any[];\r\n  private destroyed$: ReplaySubject<boolean> = new ReplaySubject(1);\r\n  @Output() configData = new EventEmitter();\r\n\r\n  // screen\r\n  screenHeight: any;\r\n  screenWidth: any;\r\n  scrollStyles: any;\r\n\r\n  constructor(private eRef: ElementRef, private toastr: ToastrService,\r\n    private fieldConfig: FieldConfigService, private fb: FormBuilder, private gainLossService: ExchangeGainLossReportService) { }\r\n\r\n  ngOnInit() {\r\n    this.onInItForm();\r\n\r\n    forkJoin([\r\n      this.getAllCurrency(),\r\n      this.getAllAccounts(),\r\n      this.getDefaultAccountingPeriod()\r\n    ])\r\n      .pipe(takeUntil(this.destroyed$))\r\n      .subscribe(result => {\r\n        this.subscribeAllCurrency(result[0]);\r\n        this.subscribeAllInputAccounts(result[1]);\r\n        this.subscribeDefaultAccountingPeriod(result[2]);\r\n      });\r\n\r\n    this.defaultFinancialYearDate = {\r\n      startDate: null,\r\n      endDate: null\r\n    };\r\n\r\n    this.getData();\r\n\r\n  }\r\n\r\n  onInItForm() {\r\n    this.gainLossConfigForm = this.fb.group({\r\n      'CurrencyId': [null, Validators.required],\r\n      'StartDate': [null, Validators.required],\r\n      'EndDate': [null, Validators.required],\r\n      'ComparisionDate': [null, Validators.required],\r\n      'DebitAccount': [null, Validators.required],\r\n      'CreditAccount': [null, Validators.required],\r\n      'DebitAccountName': [null],\r\n      'CreditAccountName': [null]\r\n    });\r\n  }\r\n\r\n  //#region \"Dynamic Scroll\"\r\n  @HostListener('window:resize', ['$event'])\r\n  getScreenSize(event?) {\r\n    this.screenHeight = window.innerHeight;\r\n    this.screenWidth = window.innerWidth;\r\n\r\n    this.scrollStyles = {\r\n      'overflow-y': 'auto',\r\n      height: this.screenHeight - 170 + 'px',\r\n      'overflow-x': 'hidden'\r\n    };\r\n  }\r\n  //#endregion\r\n\r\n  getAllCurrency() {\r\n    return this.gainLossService.GetCurrencyList();\r\n  }\r\n\r\n  getAllAccounts() {\r\n    return this.gainLossService.GetInputLevelAccountList();\r\n  }\r\n\r\n  subscribeAllCurrency(response: any) {\r\n    this.currency$ = of(response.data.map(y => {\r\n      return {\r\n        value: y.CurrencyId,\r\n        name: y.CurrencyCode + '-' + y.CurrencyName\r\n      };\r\n    }));\r\n  }\r\n\r\n  subscribeAllInputAccounts(response: any) {\r\n    this.accounts$ = of(response.data.map(y => {\r\n      return {\r\n        value: y.AccountCode,\r\n        name: y.AccountName\r\n      };\r\n    }));\r\n    this.accountsList = response.data;\r\n  }\r\n\r\n  saveCalculatorConfigData() {\r\n    if (!this.gainLossConfigForm.valid) {\r\n      this.toastr.warning('Please correct form errors and submit again');\r\n      return;\r\n    }\r\n\r\n    this.gainLossConfigForm.value.ComparisionDate = StaticUtilities.setLocalDate(this.gainLossConfigForm.value.ComparisionDate);\r\n    this.gainLossConfigForm.value.StartDate = StaticUtilities.setLocalDate(this.gainLossConfigForm.value.StartDate);\r\n    this.gainLossConfigForm.value.EndDate = StaticUtilities.setLocalDate(this.gainLossConfigForm.value.EndDate);\r\n\r\n    this.gainLossService.SaveCalculatorConfigData(this.gainLossConfigForm.value)\r\n      .subscribe(x => {\r\n        if (x) {\r\n          this.toastr.success('Configuration Updated');\r\n          this.configDataEmit();\r\n        }\r\n      }, error => {\r\n        this.toastr.error('Failed, Please try again');\r\n      });\r\n  }\r\n\r\n  getData() {\r\n    this.getConfigurationFilter();\r\n    this.getDefaultAccountingPeriod();\r\n  }\r\n\r\n  getConfigurationFilter() {\r\n    this.gainLossService.GetGainLossCaculatorConfiguration().subscribe(x => {\r\n      if (x.CalculatorConfiguration) {\r\n        this.onInItForm();\r\n        this.gainLossConfigForm.patchValue({\r\n          'CurrencyId': x.CalculatorConfiguration.CurrencyId,\r\n          'StartDate': x.CalculatorConfiguration.StartDate,\r\n          'EndDate': x.CalculatorConfiguration.EndDate,\r\n          'ComparisionDate': x.CalculatorConfiguration.ComparisionDate,\r\n          'DebitAccount': x.CalculatorConfiguration.DebitAccount,\r\n          'CreditAccount': x.CalculatorConfiguration.CreditAccount,\r\n          'CreditAccountName': x.CalculatorConfiguration.CreditAccountName,\r\n          'DebitAccountName': x.CalculatorConfiguration.DebitAccountName,\r\n        });\r\n\r\n        this.configDataEmit();\r\n      }\r\n    }, error => {\r\n      this.toastr.error('Failed, Please try again');\r\n    });\r\n  }\r\n\r\n  getDefaultAccountingPeriod() {\r\n    return this.gainLossService.GetDefaultAccountingPeriod();\r\n  }\r\n\r\n  show() {\r\n    this.showConfig = true;\r\n    this.getData();\r\n  }\r\n\r\n  getState(e) {\r\n    this.showConfig = e;\r\n  }\r\n\r\n  useDefault(event, type: string) {\r\n    if (type === 'period') {\r\n\r\n      if (this.defaultFinancialYearDate.startDate && this.defaultFinancialYearDate.endDate) {\r\n        this.gainLossConfigForm.patchValue({\r\n          'StartDate': this.defaultFinancialYearDate.startDate,\r\n          'EndDate': this.defaultFinancialYearDate.endDate\r\n        });\r\n      } else {\r\n        this.toastr.warning('no default Accounting Period set');\r\n      }\r\n    } else if (type === 'comparisionDate') {\r\n      if (this.defaultFinancialYearDate.endDate) {\r\n        this.gainLossConfigForm.patchValue({\r\n          'ComparisionDate': StaticUtilities.getLocalDate(this.defaultFinancialYearDate.endDate),\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  subscribeDefaultAccountingPeriod(response) {\r\n    if (response.AccountingPeriod) {\r\n      this.defaultFinancialYearDate = {\r\n        startDate: StaticUtilities.getLocalDate(response.AccountingPeriod.StartDate),\r\n        endDate: StaticUtilities.getLocalDate(response.AccountingPeriod.EndDate)\r\n      };\r\n    }\r\n  }\r\n\r\n  getCreditAccountSelectedValue(value) {\r\n    const index =  this.accountsList.findIndex(x => x.AccountCode === value);\r\n    if (index !== -1) {\r\n      this.gainLossConfigForm.controls['CreditAccountName'].patchValue(this.accountsList[index].AccountName);\r\n    }\r\n  }\r\n\r\n  getDebitAccountSelectedValue(value) {\r\n    const index =  this.accountsList.findIndex(x => x.AccountCode === value);\r\n    if (index !== -1) {\r\n      this.gainLossConfigForm.controls['DebitAccountName'].patchValue(this.accountsList[index].AccountName);\r\n    }\r\n  }\r\n\r\n   //#region \"onListRefresh\"\r\n   configDataEmit() {\r\n    this.configData.emit(this.gainLossConfigForm.value);\r\n  }\r\n  //#endregion\r\n\r\n  ngOnDestroy() {\r\n    this.destroyed$.next(true);\r\n    this.destroyed$.complete();\r\n  }\r\n\r\n}\r\n\r\nexport interface IDefaultFinancialYearDate {\r\n  startDate: any;\r\n  endDate: any;\r\n}\r\n","module.exports = \"<lib-sub-header-template>\\r\\n  <span class=\\\"action_header\\\">Exchange Gain/Loss Consolidation\\r\\n    <hum-button [type]=\\\"'save'\\\" [text]=\\\"'Commit'\\\" (click)=\\\"onCommitConsolidate()\\\"></hum-button>\\r\\n    <hum-button [type]=\\\"'cancel'\\\" [text]=\\\"'Cancel'\\\" (click)=\\\"cancel()\\\"></hum-button>\\r\\n  </span>\\r\\n</lib-sub-header-template>\\r\\n<mat-divider></mat-divider>\\r\\n<div class=\\\"row\\\">\\r\\n  <div class=\\\"col-md-12\\\">\\r\\n    <mat-tab-group (selectedTabChange)=\\\"tabChanged($event)\\\">\\r\\n      <mat-tab label=\\\"GAINS C/L VOUCHER\\\">\\r\\n        <ng-template matTabContent>\\r\\n          <ng-container *ngTemplateOutlet=\\\"gainloass\\\"></ng-container>\\r\\n        </ng-template>\\r\\n      </mat-tab>\\r\\n      <mat-tab label=\\\"LOSSES C/L VOUCHER\\\">\\r\\n        <ng-template matTabContent>\\r\\n          <ng-container *ngTemplateOutlet=\\\"gainloass\\\"></ng-container>\\r\\n        </ng-template>\\r\\n      </mat-tab>\\r\\n    </mat-tab-group>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<ng-template #gainloass>\\r\\n  <mat-card humAddScroll [height]=\\\"250\\\">\\r\\n    <div class=\\\"row\\\">\\r\\n      <form [formGroup]=\\\"voucherDataForm\\\">\\r\\n        <div class=\\\"col-sm-12\\\">\\r\\n          <mat-form-field>\\r\\n            <textarea mat-autosize formControlName='Description' matInput placeholder=\\\"Voucher Description\\\"></textarea>\\r\\n          </mat-form-field>\\r\\n        </div>\\r\\n        <div class=\\\"col-sm-12\\\">\\r\\n          <lib-hum-dropdown [validation]=\\\"voucherDataForm.controls['JournalId'].hasError('required')\\\"\\r\\n            [options]=\\\"journalList$\\\" formControlName='JournalId' [placeHolder]=\\\"'Voucher Journal'\\\"\\r\\n            ></lib-hum-dropdown>\\r\\n        </div>\\r\\n        <div class=\\\"col-sm-12\\\">\\r\\n          <lib-hum-dropdown [validation]=\\\"voucherDataForm.controls['VoucherType'].hasError('required')\\\"\\r\\n          [options]=\\\"voucherTypeList$\\\" formControlName='VoucherType' [placeHolder]=\\\"'VoucherType'\\\"\\r\\n          ></lib-hum-dropdown>\\r\\n        </div>\\r\\n        <div class=\\\"col-sm-12\\\">\\r\\n          <lib-hum-dropdown [validation]=\\\"voucherDataForm.controls['OfficeId'].hasError('required')\\\"\\r\\n          [options]=\\\"officeList$\\\" formControlName='OfficeId' [placeHolder]=\\\"'Office'\\\"\\r\\n          ></lib-hum-dropdown>\\r\\n        </div>\\r\\n        <div class=\\\"col-sm-12\\\">\\r\\n          <div subtitle class=\\\"info_text\\\"><i class=\\\"fas fa-info-circle icon_color_yellow\\\"></i>\\r\\n            Voucher Date is set to End Date of the Active Financial Period</div>\\r\\n          <div subtitle class=\\\"info_text\\\"><i class=\\\"fas fa-info-circle icon_color_yellow\\\"></i>\\r\\n            Voucher Currency is set to the Comparision Currency configured for the Exchange Gain/Loss Calculator\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"col-sm-12 transcation_container\\\" >\\r\\n          <div title> Transcations</div>\\r\\n          <hum-table [hideColums$]=\\\"hideColums\\\" [headers]=\\\"transactionHeaders$\\\" [items]=\\\"transactionList$\\\"></hum-table>\\r\\n        </div>\\r\\n      </form>\\r\\n    </div>\\r\\n  </mat-card>\\r\\n</ng-template>\\r\\n\"","module.exports = \".icon_color_yellow {\\n  color: darkgoldenrod; }\\n\\n.info_text {\\n  font-size: 10px;\\n  color: gray; }\\n\\n.transcation_container {\\n  margin-top: 20px; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZGFzaGJvYXJkL2FjY291bnRpbmcvZXhjaGFuZ2UtZ2Fpbi1sb3NzLXJlcG9ydC9jb25zb2xpZGF0ZS1nYWluLWxvc3MvZDpcXERheSBVc2VyXFxBdmluYXNoXFxPZmZpY2lhbFxcSHVtYW5pdGFyaWFuXFxHaXRMYWJSZXBvXFxjbGVhci1mdXNpb25cXEh1bWFuaXRhcmlhbkFzc2lzdGFuY2UuV2ViQXBpXFxOZXdVSS9zcmNcXGFwcFxcZGFzaGJvYXJkXFxhY2NvdW50aW5nXFxleGNoYW5nZS1nYWluLWxvc3MtcmVwb3J0XFxjb25zb2xpZGF0ZS1nYWluLWxvc3NcXGNvbnNvbGlkYXRlLWdhaW4tbG9zcy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLG9CQUFvQixFQUFBOztBQUd4QjtFQUNJLGVBQWU7RUFDZixXQUFXLEVBQUE7O0FBRWY7RUFDSSxnQkFBZ0IsRUFBQSIsImZpbGUiOiJzcmMvYXBwL2Rhc2hib2FyZC9hY2NvdW50aW5nL2V4Y2hhbmdlLWdhaW4tbG9zcy1yZXBvcnQvY29uc29saWRhdGUtZ2Fpbi1sb3NzL2NvbnNvbGlkYXRlLWdhaW4tbG9zcy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5pY29uX2NvbG9yX3llbGxvd3tcclxuICAgIGNvbG9yOiBkYXJrZ29sZGVucm9kO1xyXG4gIH1cclxuXHJcbi5pbmZvX3RleHR7XHJcbiAgICBmb250LXNpemU6IDEwcHg7XHJcbiAgICBjb2xvcjogZ3JheTtcclxufVxyXG4udHJhbnNjYXRpb25fY29udGFpbmVye1xyXG4gICAgbWFyZ2luLXRvcDogMjBweDtcclxufVxyXG4iXX0= */\"","import { Component, OnInit, Output, EventEmitter, Input, OnChanges } from '@angular/core';\r\nimport { of, Observable, forkJoin, ReplaySubject } from 'rxjs';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { ExchangeGainLossReportService } from '../exchange-gain-loss-report.service';\r\nimport { IDropDownModel } from 'src/app/store/models/purchase';\r\nimport { takeUntil } from 'rxjs/internal/operators/takeUntil';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { IResponseData } from '../../vouchers/models/status-code.model';\r\nimport { CommonLoaderService } from 'src/app/shared/common-loader/common-loader.service';\r\nimport { StaticUtilities } from 'src/app/shared/static-utilities';\r\n\r\n@Component({\r\n  selector: 'app-consolidate-gain-loss',\r\n  templateUrl: './consolidate-gain-loss.component.html',\r\n  styleUrls: ['./consolidate-gain-loss.component.scss']\r\n})\r\nexport class ConsolidateGainLossComponent implements OnInit, OnChanges {\r\n\r\n  @Output() emitType = new EventEmitter();\r\n  @Input() selectedData: any[];\r\n  gainList: any[] = [];\r\n  lossList: any[] = [];\r\n  totals: number;\r\n  tabIndex = 0;\r\n  accountIds: number[] = [];\r\n  @Input() calculatorConfigData: any;\r\n  transactionList$: Observable<any[]>;\r\n  voucherDataForm: FormGroup;\r\n  journalList$: Observable<IDropDownModel[]>;\r\n  voucherTypeList$: Observable<IDropDownModel[]>;\r\n  officeList$: Observable<IDropDownModel[]>;\r\n  hideColums = of({\r\n    headers: ['Account', 'Credit Amount', 'Debit Amount', 'Description'],\r\n    items: ['Account', 'CreditAmount', 'DebitAmount', 'Description']\r\n  });\r\n  private destroyed$: ReplaySubject<boolean> = new ReplaySubject(1);\r\n\r\n  transactionHeaders$ = of(['Account', 'Credit Amount', 'Debit Amount', 'Description']);\r\n  constructor(private fb: FormBuilder, private gainLossReportService: ExchangeGainLossReportService,\r\n    private toastr: ToastrService, private commonLoader: CommonLoaderService) { }\r\n\r\n  ngOnChanges() {\r\n    this.gainList = this.selectedData.filter(x => x.GainLossStatus === 1);\r\n    this.lossList = this.selectedData.filter(x => x.GainLossStatus === -1);\r\n    this.getTotalGain();\r\n    this.selectedData.forEach(x => {\r\n      this.accountIds.push(x.AccountId);\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.inItForm();\r\n\r\n    forkJoin([\r\n      this.getJournalList(),\r\n      this.getVoucherTypeList(),\r\n      this.getOfficeList()\r\n    ])\r\n      .pipe(takeUntil(this.destroyed$))\r\n      .subscribe(result => {\r\n        this.subscribeJournalList(result[0]);\r\n        this.subscribeVoucherTypeList(result[1]);\r\n        this.subscribeOfficeList(result[2]);\r\n      });\r\n  }\r\n\r\n  inItForm() {\r\n    this.voucherDataForm = this.fb.group({\r\n      'JournalId': [null, [Validators.required]],\r\n      'VoucherType': [null, Validators.required],\r\n      'Description': [null],\r\n      'OfficeId': [null, [Validators.required]]\r\n    });\r\n  }\r\n\r\n  tabChanged(value) {\r\n    this.tabIndex = value.index;\r\n    if (value.index === 0) {\r\n      this.getTotalGain();\r\n    } else if (value.index === 1) {\r\n      this.getTotalLoss();\r\n    }\r\n  }\r\n\r\n  cancel() {\r\n    this.emitType.emit('');\r\n  }\r\n\r\n  //#region \"getJournalList\"\r\n  getJournalList() {\r\n    return this.gainLossReportService.GetJournalList();\r\n  }\r\n  //#endregion\r\n\r\n  subscribeJournalList(response) {\r\n    if (response.statusCode === 200 && response.data !== null) {\r\n\r\n      this.journalList$ = of(response.data.map(y => {\r\n        return {\r\n          name: y.JournalName,\r\n          value: y.JournalCode\r\n        };\r\n      }));\r\n    }\r\n  }\r\n\r\n  //#region \"getVoucherTypeList\"\r\n  getVoucherTypeList() {\r\n    return this.gainLossReportService.GetVoucherTypeList();\r\n  }\r\n  //#endregion\r\n\r\n  subscribeVoucherTypeList(response) {\r\n    console.log(response.data, 'vouchertype');\r\n    if (response.statusCode === 200 && response.data !== null) {\r\n      this.voucherTypeList$ = of(response.data.map(y => {\r\n        return {\r\n          name: y.VoucherTypeName,\r\n          value: y.VoucherTypeId\r\n        };\r\n      }));\r\n    }\r\n  }\r\n\r\n  //#region \"getOfficeList\"\r\n  getOfficeList() {\r\n    return this.gainLossReportService.GetOfficeList();\r\n  }\r\n  //#endregion\r\n\r\n  subscribeOfficeList(response) {\r\n    console.log(response.data, 'office');\r\n    if (response.statusCode === 200 && response.data !== null) {\r\n      this.officeList$ = of(response.data.map(y => {\r\n        return {\r\n          name: y.OfficeName,\r\n          value: y.OfficeId\r\n        };\r\n      }));\r\n    }\r\n  }\r\n\r\n  onCommitConsolidate() {\r\n    if (!this.voucherDataForm.valid) {\r\n      this.toastr.warning('Please correct errors on voucher form and submit again');\r\n      return;\r\n    }\r\n\r\n    if (!this.calculatorConfigData.DebitAccount && !this.calculatorConfigData.CreditAmount) {\r\n      this.toastr.warning('Please select Debit and Credit account on calculator config.');\r\n      return;\r\n    }\r\n\r\n    this.commonLoader.showLoader();\r\n    let transactionlist: any[] = [];\r\n    this.transactionList$.subscribe(x => transactionlist = x);\r\n\r\n    transactionlist.splice((transactionlist.length - 1), 1);\r\n\r\n    const model = {\r\n      CurrencyId: this.calculatorConfigData.CurrencyId,\r\n      JournalId: this.voucherDataForm.value.JournalId,\r\n      VoucherType: this.voucherDataForm.value.VoucherType,\r\n      OfficeId: this.voucherDataForm.value.OfficeId,\r\n      TimeZoneOffset: new Date().getTimezoneOffset(),\r\n      Description: this.voucherDataForm.value.Description,\r\n      VoucherDate: StaticUtilities.setLocalDate(new Date()),\r\n      TransactionList: transactionlist,\r\n      StartDate: this.calculatorConfigData.StartDate,\r\n      EndDate: this.calculatorConfigData.EndDate\r\n    };\r\n\r\n    this.gainLossReportService.AddGainLossVoucher(model).subscribe(\r\n      (response: IResponseData) => {\r\n        if (response.statusCode === 200 && response.data !== null) {\r\n          this.commonLoader.hideLoader();\r\n          this.toastr.success('Account Consolidated');\r\n          this.cancel();\r\n\r\n          // this.toastr.success('Voucher Created Successfully');\r\n        } else {\r\n          this.commonLoader.hideLoader();\r\n          this.toastr.error(response.message);\r\n        }\r\n        this.commonLoader.hideLoader();\r\n      },\r\n      error => {\r\n        this.commonLoader.hideLoader();\r\n        this.toastr.error(error);\r\n      }\r\n    );\r\n  }\r\n\r\n  getTotalGain() {\r\n    this.gainList = [];\r\n    this.gainList = this.selectedData.filter(x => x.GainLossStatus === 1);\r\n    this.totals = this.gainList.reduce(\r\n      (a, { ResultingGainLoss }) => a + ResultingGainLoss,\r\n      0\r\n    );\r\n\r\n    if (this.gainList.length > 0) {\r\n      this.gainList.push({\r\n        AccountId: this.calculatorConfigData.CreditAccount,\r\n        AccountCode: '',\r\n        AccountName: this.calculatorConfigData.CreditAccountName,\r\n        BalanceOnOriginalTransactionDates: 0,\r\n        BalanceOnComparisionDate: 0,\r\n        ResultingGainLoss: this.totals,\r\n        GainLossStatus: 0\r\n      });\r\n\r\n      this.gainList.push({\r\n        AccountId: 0,\r\n        AccountCode: '0',\r\n        AccountName: '<b>Totals</b>',\r\n        BalanceOnOriginalTransactionDates: this.totals,\r\n        BalanceOnComparisionDate: this.totals,\r\n        ResultingGainLoss: this.totals,\r\n        GainLossStatus: 0\r\n      });\r\n    }\r\n\r\n    this.transactionList$ = of(this.gainList.map(x => {\r\n      return {\r\n        AccountId: x.AccountId,\r\n        Account: x.GainLossStatus !== 0 ? (x.AccountCode + '-' + x.AccountName) : x.AccountName,\r\n        CreditAmount: (x.GainLossStatus === 0 || x.AccountId === 0) ? x.ResultingGainLoss : 0,\r\n        DebitAmount: (x.GainLossStatus !== 0 || x.AccountId === 0) ? x.ResultingGainLoss : 0,\r\n        Description: x.AccountId === 0 ? '' : 'Gain'\r\n      };\r\n    }));\r\n  }\r\n\r\n  getTotalLoss() {\r\n    this.totals = this.lossList.reduce(\r\n      (a, { ResultingGainLoss }) => a + ResultingGainLoss,\r\n      0\r\n    );\r\n\r\n    this.lossList = [];\r\n    this.lossList = this.selectedData.filter(x => x.GainLossStatus === -1);\r\n    this.totals = this.lossList.reduce(\r\n      (a, { ResultingGainLoss }) => a + ResultingGainLoss,\r\n      0\r\n    );\r\n\r\n    if (this.lossList.length > 0) {\r\n      this.lossList.push({\r\n        AccountId: this.calculatorConfigData.DebitAccount,\r\n        AccountCode: '',\r\n        AccountName: this.calculatorConfigData.DebitAccountName,\r\n        BalanceOnOriginalTransactionDates: 0,\r\n        BalanceOnComparisionDate: 0,\r\n        ResultingGainLoss: this.totals,\r\n        GainLossStatus: 0\r\n      });\r\n      this.lossList.push({\r\n        AccountId: 0,\r\n        AccountCode: '0',\r\n        AccountName: '<b>Totals</b>',\r\n        BalanceOnOriginalTransactionDates: this.totals,\r\n        BalanceOnComparisionDate: this.totals,\r\n        ResultingGainLoss: this.totals,\r\n        GainLossStatus: 0\r\n      });\r\n    }\r\n\r\n    this.transactionList$ = of(this.lossList.map(x => {\r\n      return {\r\n        AccountId: x.AccountId,\r\n        Account: x.GainLossStatus !== 0 ? (x.AccountCode + '-' + x.AccountName) : x.AccountName,\r\n        CreditAmount: (x.GainLossStatus !== 0 || x.AccountId === 0) ? x.ResultingGainLoss : 0,\r\n        DebitAmount: (x.GainLossStatus === 0 || x.AccountId === 0) ? x.ResultingGainLoss : 0,\r\n        Description: x.AccountId === 0 ? '' : 'Loss'\r\n      };\r\n    }));\r\n  }\r\n}\r\n","module.exports = \"<lib-sub-header-template>\\r\\n  <span class=\\\"action_header\\\">Results\\r\\n    <hum-button [type]=\\\"'add'\\\" [text]=\\\"'CONSOLIDATE EXCHANGE GAIN/LOSS'\\\" *ngIf=\\\"type != 'consolidation'\\\"\\r\\n      (click)=\\\"onConsolidation()\\\"></hum-button>\\r\\n  </span>\\r\\n  <div class=\\\"action_section\\\">\\r\\n    <hum-button [type]=\\\"'filter'\\\" [text]=\\\"'TRANSACTION FILTERS'\\\"\\r\\n      (click)=\\\"type='filter'\\\"></hum-button>\\r\\n      <hum-button [type]=\\\"'filter'\\\" [text]=\\\"'CLEAR TRANSACTION FILTERS'\\\"\\r\\n      (click)=\\\"clearTransactionFilters()\\\"></hum-button>\\r\\n    <hum-button [type]=\\\"'filter'\\\" [text]=\\\"'CONFIGURATION'\\\" (click)=\\\"showConfiguration()\\\"></hum-button>\\r\\n  </div>\\r\\n</lib-sub-header-template>\\r\\n<mat-divider></mat-divider>\\r\\n\\r\\n<ng-container [ngSwitch]=\\\"type\\\">\\r\\n  <div class=\\\"row\\\" *ngSwitchDefault humAddScroll [height]=\\\"150\\\">\\r\\n    <div class=\\\"col-md-12\\\">\\r\\n\\r\\n      <mat-table #table [dataSource]=\\\"gainLossReportList\\\">\\r\\n\\r\\n        <!-- <ng-container matColumnDef=\\\"Checked\\\">\\r\\n          <mat-header-cell *matHeaderCellDef>Select</mat-header-cell>\\r\\n          <mat-cell *matCellDef=\\\"let element\\\">\\r\\n            <mat-checkbox [(ngModel)]=\\\"element.Checked\\\"></mat-checkbox>\\r\\n          </mat-cell>\\r\\n        </ng-container> -->\\r\\n        <!-- Checkbox Column -->\\r\\n        <ng-container matColumnDef=\\\"select\\\">\\r\\n          <th style=\\\"border-bottom-width:0px\\\" mat-header-cell *matHeaderCellDef>\\r\\n            <mat-checkbox (change)=\\\"$event ? masterToggle() : null\\\" [checked]=\\\"selection.hasValue() && isAllSelected()\\\"\\r\\n              [indeterminate]=\\\"selection.hasValue() && !isAllSelected()\\\" [aria-label]=\\\"checkboxLabel()\\\">\\r\\n            </mat-checkbox>\\r\\n          </th>\\r\\n          <td style=\\\"border-bottom-width:0px\\\" mat-cell *matCellDef=\\\"let row\\\">\\r\\n            <mat-checkbox (click)=\\\"$event.stopPropagation()\\\" (change)=\\\"$event ? selection.toggle(row) : null\\\"\\r\\n              [checked]=\\\"selection.isSelected(row)\\\" [aria-label]=\\\"checkboxLabel(row)\\\">\\r\\n            </mat-checkbox>\\r\\n          </td>\\r\\n        </ng-container>\\r\\n\\r\\n        <ng-container matColumnDef=\\\"AccountCode\\\">\\r\\n          <mat-header-cell *matHeaderCellDef> Account Code </mat-header-cell>\\r\\n          <mat-cell *matCellDef=\\\"let element\\\"> {{element.AccountCode}} </mat-cell>\\r\\n        </ng-container>\\r\\n\\r\\n        <ng-container matColumnDef=\\\"AccountName\\\">\\r\\n          <mat-header-cell *matHeaderCellDef> Account Name </mat-header-cell>\\r\\n          <mat-cell *matCellDef=\\\"let element\\\"> {{element.AccountName}} </mat-cell>\\r\\n        </ng-container>\\r\\n\\r\\n        <ng-container matColumnDef=\\\"BalanceOnOriginalTransactionDates\\\">\\r\\n          <mat-header-cell *matHeaderCellDef> Bal. On Original Dates </mat-header-cell>\\r\\n          <mat-cell *matCellDef=\\\"let element\\\"> {{element.BalanceOnOriginalTransactionDates}} </mat-cell>\\r\\n        </ng-container>\\r\\n\\r\\n        <ng-container matColumnDef=\\\"BalanceOnComparisionDate\\\">\\r\\n          <mat-header-cell *matHeaderCellDef> Bal. On Comparision Date </mat-header-cell>\\r\\n          <mat-cell *matCellDef=\\\"let element\\\"> {{element.BalanceOnComparisionDate}} </mat-cell>\\r\\n        </ng-container>\\r\\n\\r\\n        <ng-container matColumnDef=\\\"GainLossStatus\\\">\\r\\n          <mat-header-cell *matHeaderCellDef>Gain/Loss</mat-header-cell>\\r\\n          <mat-cell *matCellDef=\\\"let element\\\"> <span\\r\\n              [ngClass]=\\\"getLabelClass(element.GainLossStatus)\\\">{{labelText}}</span>\\r\\n          </mat-cell>\\r\\n        </ng-container>\\r\\n\\r\\n        <ng-container matColumnDef=\\\"ResultingGainLoss\\\">\\r\\n          <mat-header-cell *matHeaderCellDef> Resulting Gain/Loss </mat-header-cell>\\r\\n          <mat-cell *matCellDef=\\\"let element\\\"> {{element.ResultingGainLoss}}\\r\\n          </mat-cell>\\r\\n        </ng-container>\\r\\n\\r\\n        <mat-header-row *matHeaderRowDef=\\\"displayedColumns\\\"></mat-header-row>\\r\\n        <mat-row *matRowDef=\\\"let row; columns: displayedColumns;\\\" (click)=\\\"selection.toggle(row)\\\"></mat-row>\\r\\n      </mat-table>\\r\\n\\r\\n      <!-- <mat-paginator [length]=\\\"purchaseRecordCount\\\" [pageSize]=\\\"filterValueModel.PageSize\\\"\\r\\n          [pageSizeOptions]=\\\"[10, 5, 25, 100]\\\" (page)=\\\"pageEvent($event)\\\">\\r\\n        </mat-paginator> -->\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n  <mat-card *ngSwitchCase=\\\"'filter'\\\">\\r\\n    <h3>Voucher Transaction Filters</h3>\\r\\n    <div class=\\\"row\\\">\\r\\n      <div class=\\\"col-sm-2\\\">\\r\\n        <lib-search-dropdown placeholder=\\\"Accounts\\\" [multiSelect]=\\\"true\\\" placeholderSearchLabel=\\\"Find Account...\\\"\\r\\n          noEntriesFoundLabel=\\\"No matching account found\\\" [dataSource]=\\\"accountDataSource\\\"\\r\\n          [selectedValue]=\\\"AccountIdList\\\" (openedChange)=\\\"openedChange($event)\\\"\\r\\n          (selectionChanged)=\\\"onSelectionChanged($event)\\\">\\r\\n        </lib-search-dropdown>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"row\\\">\\r\\n      <form [formGroup]=\\\"transactionFiltersForm\\\" (ngSubmit)=getExchangeGainLossData()>\\r\\n        <div class=\\\"col-sm-12\\\">\\r\\n          <mat-form-field>\\r\\n            <mat-label>Offices</mat-label>\\r\\n            <mat-select formControlName=\\\"offices\\\" multiple>\\r\\n              <mat-option *ngFor=\\\"let office of officeList\\\" [value]=\\\"office.OfficeId\\\">{{office.OfficeName}}\\r\\n              </mat-option>\\r\\n            </mat-select>\\r\\n          </mat-form-field>\\r\\n        </div>\\r\\n        <div class=\\\"col-sm-12\\\">\\r\\n          <mat-form-field>\\r\\n            <mat-label>Journals</mat-label>\\r\\n            <mat-select formControlName=\\\"journals\\\" multiple>\\r\\n              <mat-option *ngFor=\\\"let journal of journalList\\\" [value]=\\\"journal.JournalCode\\\">\\r\\n                {{journal.JournalCode+'-'+journal.JournalName}}</mat-option>\\r\\n            </mat-select>\\r\\n          </mat-form-field>\\r\\n        </div>\\r\\n        <div class=\\\"col-sm-12\\\">\\r\\n          <mat-form-field>\\r\\n            <mat-label>Projects</mat-label>\\r\\n            <mat-select formControlName=\\\"projects\\\" multiple>\\r\\n              <mat-option *ngFor=\\\"let project of projectList\\\" [value]=\\\"project.ProjectId\\\">\\r\\n                {{project.ProjectCode + '-'+ project.ProjectName}}</mat-option>\\r\\n            </mat-select>\\r\\n          </mat-form-field>\\r\\n        </div>\\r\\n        <div class=\\\"col-sm-12\\\">\\r\\n          <hum-button [disabled]=\\\"!transactionFiltersForm.valid\\\" [isSubmit]=\\\"true\\\" [type]=\\\"'save'\\\" [text]=\\\"'APPLY'\\\">\\r\\n          </hum-button>\\r\\n          <hum-button (click)=\\\"type=''\\\" [type]=\\\"'cancel'\\\" [text]=\\\"'cancel'\\\"></hum-button>\\r\\n        </div>\\r\\n      </form>\\r\\n    </div>\\r\\n  </mat-card>\\r\\n  <app-consolidate-gain-loss [calculatorConfigData]=\\\"calculatorConfigData\\\" [selectedData]=\\\"selection.selected\\\"\\r\\n    (emitType)=\\\"subscribeType($event)\\\" *ngSwitchCase=\\\"'consolidation'\\\"></app-consolidate-gain-loss>\\r\\n</ng-container>\\r\\n\\r\\n\\r\\n<app-configuration-filter (configData)=\\\"subscribeConfigData($event)\\\"></app-configuration-filter>\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Rhc2hib2FyZC9hY2NvdW50aW5nL2V4Y2hhbmdlLWdhaW4tbG9zcy1yZXBvcnQvZXhjaGFuZ2UtZ2Fpbi1sb3NzLXJlcG9ydC5jb21wb25lbnQuc2NzcyJ9 */\"","import { Component, OnInit, ViewChild, OnDestroy } from '@angular/core';\r\nimport { GlobalSharedService } from 'src/app/shared/services/global-shared.service';\r\nimport { ConfigurationFilterComponent } from './configuration-filter/configuration-filter.component';\r\nimport { FormGroup, FormBuilder, FormControl } from '@angular/forms';\r\nimport { ExchangeGainLossReportService } from './exchange-gain-loss-report.service';\r\nimport { IResponseData } from '../vouchers/models/status-code.model';\r\nimport { forkJoin } from 'rxjs/observable/forkJoin';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { ReplaySubject } from 'rxjs/internal/ReplaySubject';\r\nimport { IDataSource, IOpenedChange } from 'projects/library/src/lib/components/search-dropdown/search-dropdown.model';\r\nimport { IAccountList, IGainLossAddVoucherForm } from '../gain-loss-report/gain-loss-report.model';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { CommonLoaderService } from 'src/app/shared/common-loader/common-loader.service';\r\nimport { StaticUtilities } from 'src/app/shared/static-utilities';\r\nimport { SelectionModel } from '@angular/cdk/collections';\r\nimport { GainLossStatus } from 'src/app/shared/enum';\r\n\r\n@Component({\r\n  selector: 'app-exchange-gain-loss-report',\r\n  templateUrl: './exchange-gain-loss-report.component.html',\r\n  styleUrls: ['./exchange-gain-loss-report.component.scss']\r\n})\r\nexport class ExchangeGainLossReportComponent implements OnInit, OnDestroy {\r\n\r\n  showFilters = false;\r\n  type = '';\r\n  transactionFiltersForm: FormGroup;\r\n  projectList: any[];\r\n  journalList: any[];\r\n  officeList: any[];\r\n  AccountIdList: any[];\r\n  gainLossReportList: GainLossReport[] = [];\r\n  GainLossFilter: IGainLossFilter;\r\n  calculatorConfigData: ICalculatorConfig;\r\n  accountDataSource: IDataSource[];\r\n  accountList: IAccountList[] = [];\r\n\r\n  selectedRows: GainLossReport[];\r\n  // gainLossAddVoucherForm: IGainLossAddVoucherForm;\r\n  /** control for the MatSelect filter keyword multi-selection */\r\n  public accountMultiFilterCtrl: FormControl = new FormControl();\r\n  displayedColumns = ['select', 'AccountCode', 'AccountName',\r\n    'BalanceOnOriginalTransactionDates', 'BalanceOnComparisionDate', 'GainLossStatus', 'ResultingGainLoss'];\r\n\r\n  labelText: string;\r\n  private destroyed$: ReplaySubject<boolean> = new ReplaySubject(1);\r\n  public filteredAccountsMulti: ReplaySubject<any[]> = new ReplaySubject<any[]>(1);\r\n  selection = new SelectionModel<any>(true, []);\r\n  @ViewChild(ConfigurationFilterComponent) fieldConfig: ConfigurationFilterComponent;\r\n  constructor(private globalSharedService: GlobalSharedService,\r\n    private gainLossReportService: ExchangeGainLossReportService, private fb: FormBuilder,\r\n    private toastr: ToastrService, private commonLoader: CommonLoaderService, ) { }\r\n\r\n  ngOnInit() {\r\n    this.globalSharedService.setMenuHeaderName('Currency Exchange Gain Loss Calculator');\r\n    this.globalSharedService.setMenuList([]);\r\n\r\n    this.onFormInIt();\r\n\r\n    this.selectedRows = [];\r\n\r\n    this.GainLossFilter = {\r\n      AccountIdList: [],\r\n      ComparisionDate: null,\r\n      FromDate: null,\r\n      JournalIdList: [],\r\n      OfficeIdList: [],\r\n      ProjectIdList: [],\r\n      ToCurrencyId: null,\r\n      ToDate: null\r\n    };\r\n\r\n    forkJoin([\r\n      this.getProjectList(),\r\n      this.getJournalList(),\r\n      this.getOfficeList(),\r\n      this.getInputLevelAccountList(),\r\n      this.getExchangeGainLossFilterAccountList()\r\n    ])\r\n      .pipe(takeUntil(this.destroyed$))\r\n      .subscribe(result => {\r\n        this.subscribeProjectList(result[0]);\r\n        this.subscribeJournalList(result[1]);\r\n        this.subscribeOfficeList(result[2]);\r\n        this.subscribeInputAccountList(result[3]);\r\n        this.subscribeExchangeGainLossAccountList(result[4]);\r\n      });\r\n  }\r\n\r\n  onFormInIt() {\r\n    this.transactionFiltersForm = this.fb.group({\r\n      'offices': [[]],\r\n      'journals': [[]],\r\n      'projects': [[]],\r\n    });\r\n    this.AccountIdList = [];\r\n  }\r\n\r\n  getLabelClass(value) {\r\n    this.labelText = value === GainLossStatus.Gain ? 'Gain' : value < 0 ? 'Loss' : value === GainLossStatus.Consolidated ?\r\n    'Consolidated' : 'Balanced' ;\r\n    return value === GainLossStatus.Gain ? 'label label-success' : value < GainLossStatus.Balanced ?\r\n              'label label-danger' : value === GainLossStatus.Consolidated ?\r\n              'label label-primary' : 'label label-info';\r\n  }\r\n\r\n  showConfiguration() {\r\n    this.fieldConfig.show();\r\n  }\r\n\r\n  //#region \"getProjectList\"\r\n  getProjectList() {\r\n    return this.gainLossReportService.GetProjectList();\r\n  }\r\n  //#endregion\r\n\r\n  subscribeProjectList(response) {\r\n    this.projectList = [];\r\n    if (response.statusCode === 200 && response.data !== null) {\r\n      response.data.forEach(element => {\r\n        this.projectList.push({\r\n          ProjectId: element.ProjectId,\r\n          ProjectName: element.ProjectName,\r\n          ProjectCode: element.ProjectCode,\r\n          IsChecked: false\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  //#region \"getJournalList\"\r\n  getJournalList() {\r\n    return this.gainLossReportService.GetJournalList();\r\n  }\r\n  //#endregion\r\n\r\n  subscribeJournalList(response) {\r\n    this.journalList = [];\r\n    if (response.statusCode === 200 && response.data !== null) {\r\n      response.data.forEach(element => {\r\n        this.journalList.push({\r\n          JournalCode: element.JournalCode,\r\n          JournalName: element.JournalName,\r\n          JournalType: element.JournalType,\r\n          IsChecked: false\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  //#region \"getOfficeList\"\r\n  getOfficeList() {\r\n    return this.gainLossReportService.GetOfficeList();\r\n  }\r\n  //#endregion\r\n\r\n  subscribeOfficeList(response) {\r\n    this.officeList = [];\r\n    if (response.statusCode === 200 && response.data !== null) {\r\n      response.data.forEach(element => {\r\n        this.officeList.push({\r\n          OfficeId: element.OfficeId,\r\n          OfficeName: element.OfficeName,\r\n          IsChecked: false\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  //#region \"getInputLevelAccountList\"\r\n  getInputLevelAccountList() {\r\n    return this.gainLossReportService.GetInputLevelAccountList();\r\n  }\r\n  //#endregion\r\n\r\n  subscribeInputAccountList(response) {\r\n    this.accountList = [];\r\n    this.accountDataSource = [];\r\n    if (response.statusCode === 200 && response.data !== null) {\r\n\r\n      response.data.forEach(element => {\r\n        this.accountList.push({\r\n          AccountCode: element.AccountCode,\r\n          AccountName: element.AccountName,\r\n          ChartOfAccountNewCode: element.ChartOfAccountNewCode\r\n        });\r\n\r\n        this.accountDataSource.push({\r\n          Id: element.AccountCode,\r\n          Name: element.AccountName,\r\n        });\r\n      });\r\n\r\n\r\n      // NOTE: load the initial Account list\r\n      this.filteredAccountsMulti.next(this.accountList.slice());\r\n\r\n      // listen for search field value changes\r\n      this.accountMultiFilterCtrl.valueChanges\r\n        .pipe(takeUntil(this.destroyed$))\r\n        .subscribe(() => {\r\n          this.filterAccounts();\r\n        });\r\n    }\r\n  }\r\n\r\n  //#region \"FILTER: Account filter\"\r\n  protected filterAccounts() {\r\n    if (!this.accountList) {\r\n      return;\r\n    }\r\n    // get the search keyword\r\n    let search = this.accountMultiFilterCtrl.value;\r\n    if (!search) {\r\n      this.filteredAccountsMulti.next(this.accountList.slice());\r\n      return;\r\n    } else {\r\n      search = search.toLowerCase();\r\n    }\r\n    // filter the accounts\r\n    this.filteredAccountsMulti.next(\r\n      this.accountList.filter(\r\n        acc => acc.AccountName.toLowerCase().indexOf(search) > -1\r\n      )\r\n    );\r\n  }\r\n  //#endregion\r\n\r\n  // #region \"gainLossAccountSelectionChanged\"\r\n  openedChange(event: IOpenedChange) {\r\n    this.AccountIdList = event.Value;\r\n\r\n    if (!event.Flag) {\r\n      this.saveExchangeGainLossFilterAccountList();\r\n    }\r\n  }\r\n  // #endregion\r\n\r\n  //#region \"getExchangeGainLossFilterAccountList\"\r\n  saveExchangeGainLossFilterAccountList() {\r\n    this.gainLossReportService.SaveExchangeGainLossFilterAccountList(this.AccountIdList).subscribe(\r\n      (response: IResponseData) => {\r\n        if (response.statusCode === 200) {\r\n        }\r\n      },\r\n      error => { }\r\n    );\r\n  }\r\n  //#endregion\r\n\r\n  //#region \"getExchangeGainLossFilterAccountList\"\r\n  getExchangeGainLossFilterAccountList() {\r\n    return this.gainLossReportService.GetExchangeGainLossFilterAccountList();\r\n  }\r\n  //#endregion\r\n\r\n  subscribeExchangeGainLossAccountList(response) {\r\n    this.AccountIdList = [];\r\n    if (response.statusCode === 200 && response.data !== null) {\r\n      this.AccountIdList = response.data;\r\n      setTimeout(() => {\r\n        this.getExchangeGainLossData();\r\n      }, 1000);\r\n\r\n    }\r\n  }\r\n\r\n  onSelectionChanged(event: number[]) {\r\n    // this.gainLossReportfilter.AccountIdList = event;\r\n  }\r\n\r\n  subscribeConfigData(event) {\r\n    this.calculatorConfigData = {\r\n      ComparisionDate: event.ComparisionDate,\r\n      CreditAccount: event.CreditAccount,\r\n      DebitAccount: event.DebitAccount,\r\n      CurrencyId: event.CurrencyId,\r\n      EndDate: event.EndDate,\r\n      StartDate: event.StartDate,\r\n      CreditAccountName: event.CreditAccountName,\r\n      DebitAccountName: event.DebitAccountName\r\n    };\r\n\r\n    this.getExchangeGainLossData();\r\n  }\r\n\r\n  applyTransactionFilter() {\r\n    this.getExchangeGainLossData();\r\n    this.toggeleShowFilter();\r\n  }\r\n\r\n  toggeleShowFilter() {\r\n    this.showFilters = !this.showFilters;\r\n  }\r\n\r\n  getExchangeGainLossData() {\r\n    if (!this.calculatorConfigData.CurrencyId && !this.calculatorConfigData.StartDate &&\r\n      !this.calculatorConfigData.EndDate && !this.calculatorConfigData.ComparisionDate) {\r\n      this.toastr.warning('Calculator configuration not set');\r\n      return;\r\n    }\r\n\r\n    if (this.AccountIdList.length === 0) {\r\n      this.toastr.warning('Accounts not selected in transaction filter');\r\n      return;\r\n    }\r\n\r\n    this.commonLoader.showLoader();\r\n\r\n    this.GainLossFilter.ComparisionDate = StaticUtilities.setLocalDate(this.calculatorConfigData.ComparisionDate);\r\n    this.GainLossFilter.FromDate = StaticUtilities.setLocalDate(this.calculatorConfigData.StartDate);\r\n    this.GainLossFilter.ToDate = StaticUtilities.setLocalDate(this.calculatorConfigData.EndDate);\r\n    this.GainLossFilter.AccountIdList = this.AccountIdList;\r\n    this.GainLossFilter.JournalIdList = this.transactionFiltersForm.value.journals;\r\n    this.GainLossFilter.OfficeIdList = this.transactionFiltersForm.value.offices;\r\n    this.GainLossFilter.ProjectIdList = this.transactionFiltersForm.value.projects;\r\n    this.GainLossFilter.ToCurrencyId = this.calculatorConfigData.CurrencyId;\r\n\r\n    this.gainLossReportService\r\n      .GetGainLossReportList(this.GainLossFilter)\r\n      .subscribe(\r\n        (response: IResponseData) => {\r\n          this.gainLossReportList = [];\r\n          if (response.statusCode === 200 && response.data !== null) {\r\n            response.data.forEach(element => {\r\n              this.gainLossReportList.push({\r\n                AccountId: element.AccountId,\r\n                AccountCode: element.AccountCode,\r\n                AccountName: element.AccountName,\r\n                BalanceOnOriginalTransactionDates: element.BalanceOnOriginalDate,\r\n                BalanceOnComparisionDate: element.BalanceOnCurrentDate,\r\n                ResultingGainLoss: element.GainLossAmount,\r\n                GainLossStatus: element.GainLossStatus\r\n              });\r\n            })\r\n            this.type = '';\r\n            // this.sumOfGainLossAmount();\r\n          } else {\r\n            this.toastr.error(response.message);\r\n          }\r\n\r\n          this.commonLoader.hideLoader();\r\n        },\r\n        error => {\r\n          this.toastr.error('Someting went wrong!');\r\n          this.commonLoader.hideLoader();\r\n        }\r\n      );\r\n  }\r\n\r\n  selectionevent(event) {\r\n    console.log(event, 'e');\r\n    console.log(event, 'e');\r\n  }\r\n\r\n  onConsolidation() {\r\n    if (this.selection.selected.length <= 0) {\r\n      this.toastr.warning('Please select atleast one account');\r\n    } else {\r\n      const accounts =  this.selection.selected.filter(x => x.GainLossStatus === GainLossStatus.Consolidated ||\r\n        x.GainLossStatus === GainLossStatus.Balanced);\r\n\r\n      if (accounts.length > 0) {\r\n        this.toastr.warning('Please remove selected consolidated or balanced accounts and try again');\r\n        return;\r\n      }\r\n      this.type = 'consolidation';\r\n    }\r\n  }\r\n\r\n  subscribeType(event) {\r\n    this.type = '';\r\n    this.selection.clear();\r\n    this.getExchangeGainLossData();\r\n  }\r\n\r\n  clearTransactionFilters() {\r\n    this.onFormInIt();\r\n  }\r\n\r\n  /** Whether the number of selected elements matches the total number of rows. */\r\n  isAllSelected() {\r\n    const numSelected = this.selection.selected.length;\r\n    const numRows = this.gainLossReportList.length;\r\n    return numSelected === numRows;\r\n  }\r\n\r\n  /** Selects all rows if they are not all selected; otherwise clear selection. */\r\n  masterToggle() {\r\n    this.isAllSelected() ?\r\n        this.selection.clear() :\r\n        this.gainLossReportList.forEach(row => this.selection.select(row));\r\n  }\r\n\r\n  /** The label for the checkbox on the passed row */\r\n  checkboxLabel(row?: any): string {\r\n    if (!row) {\r\n      return `${this.isAllSelected() ? 'select' : 'deselect'} all`;\r\n    }\r\n    return `${this.selection.isSelected(row) ? 'deselect' : 'select'} row ${row.position + 1}`;\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.destroyed$.next(true);\r\n    this.destroyed$.complete();\r\n  }\r\n}\r\n\r\nexport interface Element {\r\n  Checked: boolean;\r\n  AccountCode: string;\r\n  AccountName: string;\r\n  BalanceOnOriginalTransactionDates: number;\r\n  BalanceOnComparisionDate: number;\r\n  ResultingGainLoss: number;\r\n}\r\nexport interface ICalculatorConfig {\r\n  CurrencyId: number;\r\n  StartDate: any;\r\n  EndDate: any;\r\n  ComparisionDate: any;\r\n  DebitAccount: number;\r\n  CreditAccount: number;\r\n  CreditAccountName: string;\r\n  DebitAccountName: string;\r\n}\r\n\r\nexport interface IGainLossFilter {\r\n  ComparisionDate: any;\r\n  FromDate: any;\r\n  ToDate: any;\r\n  ToCurrencyId: number;\r\n  AccountIdList: any[];\r\n  JournalIdList: any[];\r\n  OfficeIdList: any[];\r\n  ProjectIdList: any[];\r\n}\r\n\r\nexport interface GainLossReport {\r\n  AccountId: number;\r\n  AccountCode: string;\r\n  AccountName: string;\r\n  BalanceOnOriginalTransactionDates: number;\r\n  BalanceOnComparisionDate: number;\r\n  ResultingGainLoss: number;\r\n  GainLossStatus: number;\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { GlobalService } from 'src/app/shared/services/global-services.service';\r\nimport { AppUrlService } from 'src/app/shared/services/app-url.service';\r\nimport { map } from 'rxjs/internal/operators/map';\r\nimport { IResponseData } from '../vouchers/models/status-code.model';\r\nimport { IGainLossAddVoucherForm } from '../gain-loss-report/gain-loss-report.model';\r\nimport { GLOBAL } from 'src/app/shared/global';\r\n// import { IGainLossAddVoucherForm } from './gain-loss-report.model';\r\n\r\n@Injectable()\r\nexport class ExchangeGainLossReportService {\r\n  //#endregion\r\n  constructor(\r\n    private globalService: GlobalService,\r\n    private appurl: AppUrlService\r\n  ) {}\r\n\r\n  //#region \"GetGainLossReportList\"\r\n  GetGainLossReportList(data: any) {\r\n    return this.globalService\r\n      .post(this.appurl.getApiUrl() + GLOBAL.API_GainLossReport_GetExchangeGainLossReport, data)\r\n      .pipe(\r\n        map(x => {\r\n          const responseData: IResponseData = {\r\n            data: x.data.ExchangeGainLossReportList,\r\n            statusCode: x.StatusCode,\r\n            message: x.Message\r\n          };\r\n          return responseData;\r\n        })\r\n      );\r\n  }\r\n  //#endregion\r\n\r\n  //#region \"GetInputLevelAccountList\"\r\n  GetInputLevelAccountList() {\r\n    return this.globalService\r\n      .getList(this.appurl.getApiUrl() + GLOBAL.API_Account_GetAllInputLevelAccountCode)\r\n      .pipe(\r\n        map(x => {\r\n          const responseData: IResponseData = {\r\n            data: x.data.AccountDetailList,\r\n            statusCode: x.StatusCode,\r\n            message: x.Message\r\n          };\r\n          return responseData;\r\n        })\r\n      );\r\n  }\r\n  //#endregion\r\n\r\n  //#region \"GetCurrencyList\"\r\n  GetCurrencyList(): any {\r\n    return this.globalService\r\n      .getList(this.appurl.getApiUrl() + GLOBAL.API_code_GetAllCurrency)\r\n      .pipe(\r\n        map(x => {\r\n          const responseData: IResponseData = {\r\n            data: x.data.CurrencyList,\r\n            statusCode: x.StatusCode,\r\n            message: x.Message\r\n          };\r\n          return responseData;\r\n        })\r\n      );\r\n  }\r\n  //#endregion\r\n\r\n  //#region \"GetOfficeList\"\r\n  GetOfficeList(): any {\r\n    return this.globalService\r\n      .getList(this.appurl.getApiUrl() + GLOBAL.API_code_GetAllOffice)\r\n      .pipe(\r\n        map(x => {\r\n          const responseData: IResponseData = {\r\n            data: x.data.OfficeDetailsList,\r\n            statusCode: x.StatusCode,\r\n            message: x.Message\r\n          };\r\n          return responseData;\r\n        })\r\n      );\r\n  }\r\n  //#endregion\r\n\r\n  //#region \"GetJournalList\"\r\n  GetJournalList(): any {\r\n    return this.globalService\r\n      .getList(this.appurl.getApiUrl() + GLOBAL.API_Code_GetAllJournalDetail)\r\n      .pipe(\r\n        map(x => {\r\n          const responseData: IResponseData = {\r\n            data: x.data.JournalDetailList,\r\n            statusCode: x.StatusCode,\r\n            message: x.Message\r\n          };\r\n          return responseData;\r\n        })\r\n      );\r\n  }\r\n  //#endregion\r\n\r\n  //#region \"GetProjectList\"\r\n  GetProjectList(): any {\r\n    return this.globalService\r\n      .getList(this.appurl.getApiUrl() + GLOBAL.API_Project_GetAllProjectList)\r\n      .pipe(\r\n        map(x => {\r\n          const responseData: IResponseData = {\r\n            data: x.data.ProjectDetailModel,\r\n            statusCode: x.StatusCode,\r\n            message: x.Message\r\n          };\r\n          return responseData;\r\n        })\r\n      );\r\n  }\r\n  //#endregion\r\n\r\n  //#region \"deleteAccountFromFilter\"\r\n  deleteAccountFromFilter(): any {\r\n    return this.globalService\r\n      .getList(this.appurl.getApiUrl() + GLOBAL.API_Project_GetAllProjectList)\r\n      .pipe(\r\n        map(x => {\r\n          const responseData: IResponseData = {\r\n            data: null,\r\n            statusCode: x.StatusCode,\r\n            message: x.Message\r\n          };\r\n          return responseData;\r\n        })\r\n      );\r\n  }\r\n  //#endregion\r\n\r\n  //#region \"GetGainLossReportList\"\r\n  SaveGainLossAccountList(data: any) {\r\n    return this.globalService\r\n      .post(this.appurl.getApiUrl() + GLOBAL.API_FinancialReport_SaveGainLossAccountList, data)\r\n      .pipe(\r\n        map(x => {\r\n          const responseData: IResponseData = {\r\n            data: x.data.ExchangeGainLossReportList,\r\n            statusCode: x.StatusCode,\r\n            message: x.Message\r\n          };\r\n          return responseData;\r\n        })\r\n      );\r\n  }\r\n  //#endregion\r\n\r\n  //#region \"GetJournalList\"\r\n  GetExchangeGainLossFilterAccountList(): any {\r\n    return this.globalService\r\n      .getList(this.appurl.getApiUrl() + GLOBAL.API_GainLossReport_GetExchangeGainLossFilterAccountList)\r\n      .pipe(\r\n        map(x => {\r\n          const responseData: IResponseData = {\r\n            data: x.data.GainLossSelectedAccounts,\r\n            statusCode: x.StatusCode,\r\n            message: x.Message\r\n          };\r\n          return responseData;\r\n        })\r\n      );\r\n  }\r\n  //#endregion\r\n\r\n  //#region \"SaveExchangeGainLossFilterAccountList\"\r\n  SaveExchangeGainLossFilterAccountList(model): any {\r\n    return this.globalService\r\n      .post(this.appurl.getApiUrl() + GLOBAL.API_FinancialReport_SaveGainLossAccountList, model)\r\n      .pipe(\r\n        map(x => {\r\n          const responseData: IResponseData = {\r\n            data: null,\r\n            statusCode: x.StatusCode,\r\n            message: x.Message\r\n          };\r\n          return responseData;\r\n        })\r\n      );\r\n  }\r\n  //#endregion\r\n\r\n  //#region \"GetVoucherTypeList\"\r\n  GetVoucherTypeList(): any {\r\n    return this.globalService\r\n      .getList(this.appurl.getApiUrl() + GLOBAL.API_Account_GetAllVoucherType)\r\n      .pipe(\r\n        map(x => {\r\n          const responseData: IResponseData = {\r\n            data: x.data.VoucherTypeList,\r\n            statusCode: x.StatusCode,\r\n            message: x.Message\r\n          };\r\n          return responseData;\r\n        })\r\n      );\r\n  }\r\n  //#endregion\r\n\r\n  //#region \"SaveCalculatorConfigData\"\r\n  SaveCalculatorConfigData(model: any): any {\r\n    return this.globalService\r\n      .post(this.appurl.getApiUrl() + GLOBAL.API_Account_SaveCalculatorConfigData, model);\r\n  }\r\n  //#endregion\r\n\r\n  //#region \"AddGainLossVoucher\"\r\n  AddGainLossVoucher(data: any) {\r\n    return this.globalService\r\n      .post(this.appurl.getApiUrl() + GLOBAL.API_GainLossReport_AddExchangeGainLossVoucher, data)\r\n      .pipe(\r\n        map(x => {\r\n          const responseData: IResponseData = {\r\n            data: x.data.GainLossVoucherDetail,\r\n            statusCode: x.StatusCode,\r\n            message: x.Message\r\n          };\r\n          return responseData;\r\n        })\r\n      );\r\n  }\r\n  //#endregion\r\n\r\n  //#region \"GetGainLossVoucherList\"\r\n  GetGainLossVoucherList(): any {\r\n    return this.globalService\r\n      .getList(this.appurl.getApiUrl() + GLOBAL.API_GainLossReport_GetExchangeGainLossVoucherList)\r\n      .pipe(\r\n        map(x => {\r\n          const responseData: IResponseData = {\r\n            data: x.data.GainLossVoucherList,\r\n            statusCode: x.StatusCode,\r\n            message: x.Message\r\n          };\r\n          return responseData;\r\n        })\r\n      );\r\n  }\r\n  //#endregion\r\n\r\n  //#region \"DeleteGainLossVoucher\"\r\n  DeleteGainLossVoucher(data: number) {\r\n    return this.globalService\r\n      .post(this.appurl.getApiUrl() + GLOBAL.API_GainLossReport_DeleteGainLossVoucherTransaction, data)\r\n      .pipe(\r\n        map(x => {\r\n          const responseData: IResponseData = {\r\n            data: null,\r\n            statusCode: x.StatusCode,\r\n            message: x.Message\r\n          };\r\n          return responseData;\r\n        })\r\n      );\r\n  }\r\n  //#endregion\r\n\r\n  //#region \"GetGainLossCaculatorConfiguration\"\r\n  GetGainLossCaculatorConfiguration() {\r\n    return this.globalService\r\n      .getDataById(this.appurl.getApiUrl() + GLOBAL.API_GainLossReport_GetGainLossCaculatorConfiguration);\r\n  }\r\n  //#endregion\r\n  GetDefaultAccountingPeriod() {\r\n    return this.globalService\r\n      .getDataById(this.appurl.getApiUrl() + GLOBAL.API_GainLossReport_GetDefaultAccountingPeriod);\r\n  }\r\n\r\n}\r\n","module.exports = \"<mat-card [ngStyle]=\\\"scrollStyles\\\">\\r\\n    <div class=\\\"main-journal\\\">\\r\\n      <mat-card>\\r\\n        <form [formGroup]=\\\"journalFilterForm\\\" (ngSubmit)=\\\"onApplyingFilter(journalFilterForm.value)\\\">\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-md-3\\\">\\r\\n                <lib-search-dropdown\\r\\n                placeholder=\\\"Office\\\"\\r\\n                [multiSelect]=\\\"true\\\"\\r\\n                placeholderSearchLabel=\\\"Find Offices...\\\"\\r\\n                noEntriesFoundLabel=\\\"No matching Accounts found\\\"\\r\\n                [dataSource]=\\\"officeDropdown\\\"\\r\\n                [selectedValue]=\\\"OfficeIds\\\"\\r\\n                (openedChange)=\\\"\\r\\n                        onOpenedOfficeMultiSelectChange($event)\\r\\n                      \\\"\\r\\n              >\\r\\n              </lib-search-dropdown>\\r\\n            </div>\\r\\n            <div class=\\\"col-md-3\\\">\\r\\n                <lib-hum-dropdown [options]=\\\"currencyId$\\\" formControlName=\\\"CurrencyId\\\" [placeHolder]=\\\"'Currency'\\\"\\r\\n                ></lib-hum-dropdown>\\r\\n            </div>\\r\\n            <div class=\\\"col-md-3\\\">\\r\\n              <lib-hum-dropdown [options]=\\\"recordType$\\\" formControlName=\\\"RecordType\\\" [placeHolder]=\\\"'Record Type'\\\"\\r\\n                ></lib-hum-dropdown>\\r\\n            </div>\\r\\n            <div class=\\\"col-md-3\\\">\\r\\n                <lib-search-dropdown\\r\\n                placeholder=\\\"Journal\\\"\\r\\n                [multiSelect]=\\\"true\\\"\\r\\n                placeholderSearchLabel=\\\"Find Journals...\\\"\\r\\n                noEntriesFoundLabel=\\\"No matching Journals found\\\"\\r\\n                [dataSource]=\\\"journalDropdown\\\"\\r\\n                [selectedValue]=\\\"journalIds\\\"\\r\\n                (openedChange)=\\\"onOpenedJournalMultiSelectChange($event)\\\"\\r\\n              >\\r\\n              </lib-search-dropdown>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-md-3\\\">\\r\\n                <lib-search-dropdown\\r\\n                placeholder=\\\"Accounts\\\"\\r\\n                [multiSelect]=\\\"true\\\"\\r\\n                placeholderSearchLabel=\\\"Find Accounts...\\\"\\r\\n                noEntriesFoundLabel=\\\"No matching Accounts found\\\"\\r\\n                [dataSource]=\\\"accountDropdown\\\"\\r\\n                [selectedValue]=\\\"AccountIds\\\"\\r\\n                (openedChange)=\\\"onOpenedAccountMultiSelectChange($event)\\\"\\r\\n              >\\r\\n            </lib-search-dropdown>\\r\\n            </div>\\r\\n            <div class=\\\"col-md-3\\\">\\r\\n                <mat-form-field>\\r\\n                  <input matInput [satDatepicker]=\\\"resultPicker\\\" formControlName=\\\"date\\\">\\r\\n                  <sat-datepicker\\r\\n                      #resultPicker\\r\\n                      [rangeMode]=\\\"true\\\">\\r\\n                  </sat-datepicker>\\r\\n                  <sat-datepicker-toggle matSuffix [for]=\\\"resultPicker\\\"></sat-datepicker-toggle>\\r\\n                </mat-form-field>\\r\\n            </div>\\r\\n            <div class=\\\"col-md-3\\\">\\r\\n                <lib-search-dropdown\\r\\n                placeholder=\\\"Projects\\\"\\r\\n                [multiSelect]=\\\"true\\\"\\r\\n                placeholderSearchLabel=\\\"Find Project...\\\"\\r\\n                noEntriesFoundLabel=\\\"No matching project found\\\"\\r\\n                [dataSource]=\\\"multiProjectList\\\"\\r\\n                [selectedValue]=\\\"ProjectIds\\\"\\r\\n                (openedChange)=\\\"onOpenedProjectMultiSelectChange($event)\\\"\\r\\n              >\\r\\n              </lib-search-dropdown>\\r\\n            </div>\\r\\n            <div class=\\\"col-md-3\\\">\\r\\n                <lib-search-dropdown\\r\\n                placeholder=\\\"BudgetLines\\\"\\r\\n                [multiSelect]=\\\"true\\\"\\r\\n                placeholderSearchLabel=\\\"Find BudgetLine...\\\"\\r\\n                noEntriesFoundLabel=\\\"No matching budgetline found\\\"\\r\\n                [dataSource]=\\\"multiBudgetLineList\\\"\\r\\n                [selectedValue]=\\\"budgetLineIds\\\"\\r\\n                (openedChange)=\\\"onOpenedBudgetLineMultiSelectChange($event)\\\"\\r\\n              >\\r\\n              </lib-search-dropdown>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-md-3\\\">\\r\\n                <lib-search-dropdown\\r\\n                placeholder=\\\"Project Jobs\\\"\\r\\n                [multiSelect]=\\\"true\\\"\\r\\n                placeholderSearchLabel=\\\"Find Project Job...\\\"\\r\\n                noEntriesFoundLabel=\\\"No matching project job found\\\"\\r\\n                [dataSource]=\\\"multiProjectJobList\\\"\\r\\n                [selectedValue]=\\\"projectJobIds\\\"\\r\\n                (openedChange)=\\\"onOpenedProjectJobMultiSelectChange($event)\\\"\\r\\n                ></lib-search-dropdown>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-md-10\\\"></div>\\r\\n            <div class=\\\"col-md-2\\\">\\r\\n                <hum-button [isSubmit]=\\\"true\\\" [type]=\\\"'save'\\\" [text]=\\\"'UPDATE FILTERS'\\\">\\r\\n                  </hum-button>\\r\\n            </div>\\r\\n          </div>\\r\\n\\r\\n        </form>\\r\\n      </mat-card>\\r\\n      <lib-sub-header-template>\\r\\n        <span class=\\\"action_header\\\">\\r\\n        </span>\\r\\n\\r\\n        <div class=\\\"action_section\\\">\\r\\n            <hum-button (click)=\\\"ExportJournalExcel(journalFilterForm.value)\\\" [type]=\\\"'download'\\\" [text]=\\\"'EXPORT TO EXCEL'\\\"></hum-button>\\r\\n            <hum-button (click)=\\\"ExportJournalPdf(journalFilterForm.value)\\\" [type]=\\\"'download'\\\" [text]=\\\"'JOURNAL REPORT'\\\"></hum-button>\\r\\n          <hum-button (click)=\\\"ExportBudgetlinePdf(journalFilterForm.value)\\\" [type]=\\\"'download'\\\" [text]=\\\"'SUMMARY REPORT'\\\"></hum-button>\\r\\n          <hum-button (click)=\\\"ExportLedgerPdf(journalFilterForm.value)\\\" [type]=\\\"'download'\\\" [text]=\\\"'LEDGER REPORT'\\\"></hum-button>\\r\\n          <hum-button (click)=\\\"ExportTrialBalPdf(journalFilterForm.value)\\\" [type]=\\\"'download'\\\" [text]=\\\"'TRIAL REPORT'\\\"></hum-button>\\r\\n        </div>\\r\\n      </lib-sub-header-template>\\r\\n      <mat-card>\\r\\n        <hum-table [headers]=\\\"journalListHeaders$\\\" [items]=\\\"journalFilterList$\\\"></hum-table>\\r\\n\\r\\n        <div *ngIf=\\\"(journalFilterList$ | async)\\\">\\r\\n          <h5 class=\\\"display_inline_block\\\">Total Debits: </h5><strong>{{this.debitSumForReport}}</strong><br>\\r\\n          <h5 class=\\\"display_inline_block\\\">Total Credits: </h5><strong>{{this.creditSumForReport}}</strong>\\r\\n        </div>\\r\\n      </mat-card>\\r\\n    </div>\\r\\n</mat-card>\\r\\n\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Rhc2hib2FyZC9hY2NvdW50aW5nL2pvdXJuYWwtcmVwb3J0L2pvdXJuYWwtcmVwb3J0LmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit, HostListener, Input } from '@angular/core';\r\nimport {ReportService} from 'src/app/dashboard/accounting/report-services/report.service';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { GLOBAL } from 'src/app/shared/global';\r\nimport { Observable, of, ReplaySubject } from 'rxjs';\r\nimport { IDropDownModel } from 'src/app/dashboard/accounting/report-services/report-models';\r\nimport { FormGroup, FormControl, FormBuilder, Validators } from '@angular/forms';\r\nimport { GlobalService } from 'src/app/shared/services/global-services.service';\r\nimport { GlobalSharedService } from 'src/app/shared/services/global-shared.service';\r\nimport { map, takeUntil } from 'rxjs/operators';\r\nimport { IMenuList } from 'src/app/shared/dbheader/dbheader.component';\r\nimport { IOpenedChange, IDataSource } from 'projects/library/src/lib/components/search-dropdown/search-dropdown.model';\r\n\r\n@Component({\r\n  selector: 'app-journal-report',\r\n  templateUrl: './journal-report.component.html',\r\n  styleUrls: ['./journal-report.component.scss']\r\n})\r\nexport class JournalReportComponent implements OnInit {\r\n\r\n  menuList: IMenuList[] = [];\r\n  journalDataSource: any[];\r\n  journalReportDataSource: any[];\r\n  drillDownDataSource: any;\r\n  journalVoucher: JournalVoucherModel[];\r\n  journalDropdown: any[];\r\n  accountLists: any;\r\n  accountDropdown: any[];\r\n  selectedAccounts: any;\r\n  initialFlag = 0;\r\n\r\n  currencyDropdown: any[];\r\n  officeDropdown: any[];\r\n  recordTypeDropdown: any[];\r\n  journalFilter: JournalFilterModel;\r\n  // loading: any;\r\n  FromDate: any;\r\n  currentDateFinal: any;\r\n  journalDateRange: any;\r\n  journalDate: any;\r\n  projectList = [];\r\n\r\n  // Report\r\n  viewPdfFlag = true;\r\n  debitSumForReport = '0.00';\r\n  creditSumForReport = '0.00';\r\n  balanceSumForReport = '0.00';\r\n\r\n  // Loader\r\n  journalListLoading = false;\r\n\r\n  intialFlagValue = 0;\r\n  selectedOffices: any[];\r\n  selectedCurrency: any;\r\n  selectedJournal: any[];\r\n  selectedJobs: any[];\r\n  defaultRecordType: any;\r\n  multiProjectList: any[] ;\r\n  multiProjectJobList: any[];\r\n  multiBudgetLineList: any[];\r\n\r\n  private destroyed$: ReplaySubject<boolean> = new ReplaySubject(1);\r\n  currencyId$: Observable<IDropDownModel[]>;\r\n  recordType$: Observable<IDropDownModel[]>;\r\n  journalListHeaders$ = of(['Transaction Date', 'Voucher Code', 'Transaction Description', 'Currency', 'Account Code', 'Account Name',\r\n  'Debit Amount', 'Credit Amount', 'Project', 'Budget Line', 'Job Code']);\r\n  journalFilterList$: Observable<IJournalList[]>;\r\n  journalFilterForm: FormGroup;\r\n  screenHeight: number;\r\n  screenWidth: number;\r\n  scrollStyles: any;\r\n  //#endregion\r\n  constructor(\r\n    private accountservice: ReportService,\r\n    private toastr: ToastrService,\r\n    private fb: FormBuilder,\r\n    private globalService: GlobalSharedService\r\n  ) {\r\n    this.FromDate = '01/01/' + new Date().getFullYear();\r\n\r\n    this.currentDateFinal = new Date();\r\n    this.recordTypeDropdown = [\r\n      {\r\n        value: 1,\r\n        name: 'Single'\r\n      },\r\n      {\r\n        value: 2,\r\n        name: 'Consolidate'\r\n      }\r\n    ];\r\n    this.recordType$ = of(this.recordTypeDropdown);\r\n    this.defaultRecordType = this.recordTypeDropdown[0].Id;\r\n\r\n    this.journalFilter = {\r\n      CurrencyId: null,\r\n      JournalCode: null,\r\n      OfficesList: [],\r\n      RecordType: null,\r\n      date: {'begin': new Date(new Date().getFullYear(), new Date().getMonth(), 1), 'end': new Date()},\r\n      BudgetLine: null,\r\n      Project: null,\r\n      JobCode: null,\r\n      accountLists: null,\r\n      FromDate: null ,\r\n      ToDate : null\r\n    };\r\n\r\n    // Journal DateRange\r\n    this.journalDateRange = [];\r\n    this.journalDateRange.push(\r\n      new Date(\r\n        new Date().getFullYear(),\r\n        0,\r\n        1,\r\n        new Date().getHours(),\r\n        new Date().getMinutes(),\r\n        new Date().getSeconds()\r\n      )\r\n    );\r\n    this.journalDateRange.push(\r\n      new Date(\r\n        new Date().getFullYear(),\r\n        new Date().getMonth(),\r\n        new Date().getDate(),\r\n        new Date().getHours(),\r\n        new Date().getMinutes(),\r\n        new Date().getSeconds()\r\n      )\r\n    );\r\n    // Set Menu Header List\r\n    this.globalService.setMenuList(this.menuList);\r\n    this.getScreenSize();\r\n   }\r\n   @HostListener('window:resize', ['$event'])\r\n   getScreenSize(event?) {\r\n     this.screenHeight = window.innerHeight;\r\n     this.screenWidth = window.innerWidth;\r\n     this.scrollStyles = {\r\n       'overflow-y': 'auto',\r\n       height: this.screenHeight - 110 + 'px',\r\n       'overflow-x': 'hidden'\r\n     };\r\n   }\r\n  ngOnInit() {\r\n    this.globalService.setMenuHeaderName('Journal');\r\n    this.getProjectList();\r\n    this.getCurrencyCodeList();\r\n    this.getOfficeCodeList();\r\n    this.getJournalDropdownList();\r\n    // this.GetAllJournalDetails();\r\n    this.GetAccountDetails();\r\n\r\n    this.journalFilterForm = this.fb.group({\r\n      'OfficesList': ['', Validators.required],\r\n      'CurrencyId': ['', Validators.required],\r\n      'JournalCode': ['', Validators.required],\r\n      'RecordType': [1, Validators.required],\r\n      'accountLists': ['', Validators.required],\r\n      'date': [{'begin': new Date(new Date().getFullYear(), 0, 1), 'end': new Date()},\r\n      Validators.required],\r\n      'Project' : [[]],\r\n      'JobCode' : [[]],\r\n      'BudgetLine' : [[]]\r\n    });\r\n  }\r\n //#region \"onApplyingFilter\"\r\n onApplyingFilter(value: JournalFilterModel) {\r\n  if (this.journalDateRange == null) {\r\n    this.toastr.error('Please Select Date Range');\r\n  } else {\r\n    this.journalFilter = {\r\n      CurrencyId: value.CurrencyId,\r\n      JournalCode: value.JournalCode,\r\n      OfficesList: value.OfficesList,\r\n      RecordType:\r\n        value.RecordType == null ? this.defaultRecordType : value.RecordType,\r\n      FromDate: new Date(\r\n        new Date(value.date.begin).getFullYear(),\r\n        new Date(value.date.begin).getMonth(),\r\n        new Date(value.date.begin).getDate(),\r\n        new Date().getHours(),\r\n        new Date().getMinutes(),\r\n        new Date().getSeconds()\r\n      ),\r\n      ToDate: new Date(\r\n        new Date(value.date.end).getFullYear(),\r\n        new Date(value.date.end).getMonth(),\r\n        new Date(value.date.end).getDate(),\r\n        new Date().getHours(),\r\n        new Date().getMinutes(),\r\n        new Date().getSeconds()\r\n      ),\r\n      BudgetLine: value.BudgetLine,\r\n      Project: value.Project,\r\n      JobCode: value.JobCode,\r\n      accountLists: value.accountLists,\r\n      date: null\r\n    };\r\n    this.GetAllJournalDetails(this.journalFilter);\r\n  }\r\n}\r\n//#endregion\r\n\r\nonOpenedAccountMultiSelectChange(event: IOpenedChange) {\r\n  this.journalFilterForm.controls['accountLists'].setValue(event.Value);\r\n}\r\nonOpenedOfficeMultiSelectChange(event: IOpenedChange) {\r\n  this.journalFilterForm.controls['OfficesList'].setValue(event.Value);\r\n}\r\nonOpenedJournalMultiSelectChange(event: IOpenedChange) {\r\n  this.journalFilterForm.controls['JournalCode'].setValue(event.Value);\r\n}\r\nonOpenedProjectMultiSelectChange(event:  IOpenedChange) {\r\n  this.journalFilterForm.controls['Project'].setValue(event.Value);\r\n    const projectFilter = event.Value;\r\n    if (event.Flag === true) {\r\n      return;\r\n    } else if ((projectFilter.length > 0)) {\r\n      this.multiBudgetLineList = [];\r\n      this.multiProjectJobList = [];\r\n      this.journalFilterForm.controls['JobCode'].setValue([]);\r\n      this.journalFilterForm.controls['BudgetLine'].setValue([]);\r\n      this.getProjectBudgetLineList(projectFilter);\r\n    } else {\r\n      this.multiBudgetLineList = [];\r\n      this.multiProjectJobList = [];\r\n      this.journalFilterForm.controls['JobCode'].setValue([]);\r\n      this.journalFilterForm.controls['BudgetLine'].setValue([]);\r\n    }\r\n}\r\nonOpenedProjectJobMultiSelectChange(event: IOpenedChange) {\r\n  this.journalFilterForm.controls['JobCode'].setValue(event.Value);\r\n}\r\nonOpenedBudgetLineMultiSelectChange(event: IOpenedChange) {\r\n  this.journalFilterForm.controls['BudgetLine'].setValue(event.Value);\r\n  const projectbudgetFilter = event.Value;\r\n  if (event.Flag === true) {\r\n    return;\r\n  } else if (projectbudgetFilter.length > 0) {\r\n    this.getProjectJobList(projectbudgetFilter);\r\n  } else {\r\n    this.multiProjectJobList = [];\r\n    this.journalFilterForm.controls['JobCode'].setValue([]);\r\n  }\r\n}\r\nget AccountIds() {\r\n  return this.journalFilterForm.get('accountLists').value;\r\n}\r\nget journalIds() {\r\n  return this.journalFilterForm.get('JournalCode').value;\r\n}\r\nget OfficeIds() {\r\n  return this.journalFilterForm.get('OfficesList').value;\r\n}\r\nget ProjectIds() {\r\n  return this.journalFilterForm.get('Project').value;\r\n}\r\nget projectJobIds() {\r\n  return this.journalFilterForm.get('JobCode').value;\r\n}\r\nget budgetLineIds() {\r\n  return this.journalFilterForm.get('BudgetLine').value;\r\n}\r\n\r\ngetProjectList() {\r\n  this.accountservice\r\n    .GetProjectList()\r\n    .pipe(takeUntil(this.destroyed$))\r\n    .subscribe(\r\n      (response) => {\r\n        this.projectList = [];\r\n        this.multiProjectList = [];\r\n        if (response.statusCode === 200 && response.data !== null) {\r\n          response.data.forEach(element => {\r\n            this.projectList.push({\r\n              ProjectId: element.ProjectId,\r\n              ProjectCode: element.ProjectCode,\r\n              ProjectName: element.ProjectName,\r\n              ProjectNameCode: element.ProjectCode + '-' + element.ProjectName\r\n            });\r\n\r\n            this.multiProjectList.push({\r\n              Id: element.ProjectId,\r\n              Name: element.ProjectCode + '-' + element.ProjectName\r\n            });\r\n          });\r\n        }\r\n      },\r\n      error => {}\r\n    );\r\n}\r\n\r\ngetProjectJobList(projectbudgetIds: number[]) {\r\n  this.accountservice\r\n    .getProjectJobList(projectbudgetIds)\r\n    .pipe(takeUntil(this.destroyed$))\r\n    .subscribe(\r\n      (response) => {\r\n        this.multiProjectJobList = [];\r\n        this.selectedJobs = [];\r\n        if (response.statusCode === 200 && response.data !== null) {\r\n          response.data.forEach(element => {\r\n            this.multiProjectJobList.push({\r\n              Id: element.ProjectJobId,\r\n              Name: element.ProjectJobName\r\n            });\r\n          });\r\n          this.multiProjectJobList.forEach(x => {\r\n            this.selectedJobs.push(x.Id);\r\n          });\r\n          this.journalFilterForm.controls['JobCode'].setValue(this.selectedJobs);\r\n        }\r\n      },\r\n      error => {}\r\n    );\r\n}\r\n\r\ngetProjectBudgetLineList(projectIds: number[]) {\r\n  this.accountservice\r\n    .getProjectBudgetLineList(projectIds)\r\n    .pipe(takeUntil(this.destroyed$))\r\n    .subscribe(\r\n      (response) => {\r\n        this.multiBudgetLineList = [];\r\n        if (response.statusCode === 200 && response.data !== null) {\r\n          response.data.forEach(element => {\r\n            this.multiBudgetLineList.push({\r\n              Id: element.BudgetLineId,\r\n              Name: element.BudgetName\r\n            });\r\n          });\r\n          this.journalFilterForm.controls['BudgetLine'].setValue([]);\r\n        }\r\n      },\r\n      error => {}\r\n    );\r\n}\r\n\r\n//#region \"getCurrencyCodeList\"\r\ngetCurrencyCodeList() {\r\n  this.accountservice\r\n    .GetAllCurrencyCodeList()\r\n    .subscribe(\r\n      data => {\r\n        this.currencyDropdown = [];\r\n        if (data.data.CurrencyList != null) {\r\n          data.data.CurrencyList.forEach(element => {\r\n            this.currencyDropdown.push(element);\r\n          });\r\n\r\n          this.selectedCurrency = this.currencyDropdown[0].CurrencyId;\r\n          this.journalFilterForm.controls['CurrencyId'].setValue(this.selectedCurrency);\r\n          this.currencyId$ = of(this.currencyDropdown.map(y => {\r\n            return {\r\n              value: y.CurrencyId,\r\n              name: y.CurrencyCode + '-' + y.CurrencyName\r\n            };\r\n          }));\r\n          // Initial Page Loading\r\n          this.intialFlagValue += 1;\r\n        }\r\n      },\r\n      error => {\r\n        if (error.StatusCode === 500) {\r\n          this.toastr.error('Internal Server Error....');\r\n        } else if (error.StatusCode === 401) {\r\n          this.toastr.error('Unauthorized Access Error....');\r\n        } else if (error.StatusCode === 403) {\r\n          this.toastr.error('Forbidden Error....');\r\n        }\r\n      }\r\n    );\r\n}\r\n//#endregion\r\n\r\n//#region  Get Office Code in Add, Edit Dropdown\r\ngetOfficeCodeList() {\r\n  this.accountservice\r\n    .GetAllOfficeCodeList()\r\n    .subscribe(\r\n      data => {\r\n        if (data.data.OfficeDetailsList != null) {\r\n          this.officeDropdown = [];\r\n\r\n          // const allOffices = [];\r\n          const officeIds: any[] =\r\n            localStorage.getItem('ALLOFFICES') != null\r\n              ? localStorage.getItem('ALLOFFICES').split(',')\r\n              : null;\r\n\r\n          data.data.OfficeDetailsList.forEach(element => {\r\n            this.officeDropdown.push({\r\n              Id: element.OfficeId,\r\n              Name: element.OfficeName\r\n            });\r\n          });\r\n\r\n          // officeIds.forEach(x => {\r\n          //   const officeData = allOffices.filter(\r\n          //     // tslint:disable-next-line:radix\r\n          //     e => e.OfficeId === parseInt(x)\r\n          //   )[0];\r\n          //   this.officeDropdown.push(officeData);\r\n          // });\r\n\r\n          this.selectedOffices = [];\r\n          this.officeDropdown.forEach(x => {\r\n            // tslint:disable-next-line:radix\r\n            this.selectedOffices.push(x.Id);\r\n          });\r\n          this.journalFilterForm.controls['OfficesList'].setValue(this.selectedOffices);\r\n          // Initial Page Loading\r\n          this.intialFlagValue += 1;\r\n\r\n          // sort in Asc\r\n          this.officeDropdown = this.accountservice.sortDropdown(\r\n            this.officeDropdown,\r\n            'OfficeName'\r\n          );\r\n        }\r\n      },\r\n      error => {\r\n        if (error.StatusCode === 500) {\r\n          this.toastr.error('Internal Server Error....');\r\n        } else if (error.StatusCode === 401) {\r\n          this.toastr.error('Unauthorized Access Error....');\r\n        } else if (error.StatusCode === 403) {\r\n          this.toastr.error('Forbidden Error....');\r\n        }\r\n      }\r\n    );\r\n}\r\n//#endregion\r\n\r\n//#region \"GetAllJournalDetails\"\r\nGetAllJournalDetails(journalFilter) {\r\n\r\n  this.showjournalListLoading();\r\n\r\n  this.journalReportDataSource = [];\r\n\r\n  this.debitSumForReport = '0.0000';\r\n  this.creditSumForReport = '0.0000';\r\n  this.balanceSumForReport = '0.0000';\r\n\r\n  this.accountservice\r\n    .GetAllJournalDetails(\r\n      journalFilter\r\n    )\r\n    .subscribe(\r\n      data => {\r\n        this.journalDataSource = [];\r\n        if (\r\n          data.StatusCode === 200 &&\r\n          data.data.JournalVoucherViewList != null &&\r\n          data.data.JournalVoucherViewList.length > 0\r\n        ) {\r\n          this.journalReportDataSource = data.data.JournalReportList;\r\n          this.debitSumForReport = this.accountservice\r\n            .sumOfListInArray(this.journalReportDataSource, 'DebitAmount')\r\n            .toFixed(4);\r\n          this.creditSumForReport = this.accountservice\r\n            .sumOfListInArray(this.journalReportDataSource, 'CreditAmount')\r\n            .toFixed(4);\r\n          this.balanceSumForReport = (\r\n            parseFloat(this.debitSumForReport) -\r\n            parseFloat(this.creditSumForReport)\r\n          ).toFixed(4);\r\n          data.data.JournalVoucherViewList.forEach(element => {\r\n            this.journalDataSource.push(element);\r\n          });\r\n          this.journalFilterList$ = of(this.journalDataSource).pipe(\r\n            map(r => r.map(v => ({\r\n              Transaction_Date: new Date(v.TransactionDate).getDate() + '/' + (new Date(v.TransactionDate).getMonth() + 1) +\r\n              '/' + new Date(v.TransactionDate).getFullYear(),\r\n              Voucher_Code: v.ReferenceNo,\r\n              Transaction_Description: v.TransactionDescription,\r\n              Currency: this.currencyDropdown[this.currencyDropdown.findIndex( x => x.CurrencyId === v.CurrencyId)]['CurrencyName'],\r\n              Account_Code: v.AccountCode,\r\n              Account_Name: v.AccountName,\r\n              DebitAmount: v.DebitAmount,\r\n              CreditAmount: v.CreditAmount,\r\n              Project: v.Project,\r\n              BudgetLine: v.BudgetLineDescription,\r\n              JobCode: v.JobCode\r\n             }) as IJournalList))\r\n          );\r\n        } else {\r\n          this.journalFilterList$ = of();\r\n        }\r\n        // else\r\n        //   this.toastr.error(data.Message);\r\n\r\n        this.hidejournalListLoading();\r\n      },\r\n      error => {\r\n        if (error.StatusCode === 500) {\r\n          this.toastr.error('Internal Server Error....');\r\n        } else if (error.StatusCode === 401) {\r\n          this.toastr.error('Unauthorized Access Error....');\r\n        } else if (error.StatusCode === 403) {\r\n          this.toastr.error('Forbidden Error....');\r\n        }\r\n        this.hidejournalListLoading();\r\n      }\r\n    );\r\n}\r\n//#endregion\r\n\r\n//#region  Get all Journal Dropdown\r\ngetJournalDropdownList() {\r\n  // this.journalCodeListLoading = true;\r\n  this.accountservice\r\n    .GetAllJournalCodeList()\r\n    .subscribe(\r\n      data => {\r\n        this.journalDropdown = [];\r\n\r\n        if (\r\n          data.StatusCode === 200 &&\r\n          data.data.JournalDetailList != null\r\n        ) {\r\n          if (\r\n            data.data.JournalDetailList.length > 0\r\n          ) {\r\n            data.data.JournalDetailList.forEach(element => {\r\n              this.journalDropdown.push({\r\n                Id: element.JournalCode,\r\n                Name: element.JournalName\r\n              });\r\n            });\r\n\r\n            this.selectedJournal = [];\r\n            const JournalCodes = [];\r\n            this.journalDropdown.forEach(x => {\r\n              JournalCodes.push(x.Id);\r\n            });\r\n            this.selectedJournal = JournalCodes;\r\n            this.journalFilterForm.controls['JournalCode'].setValue(this.selectedJournal);\r\n            // Initial Page Loading\r\n            this.intialFlagValue += 1;\r\n          }\r\n        }\r\n      },\r\n      error => {\r\n        if (error.StatusCode === 500) {\r\n          this.toastr.error('Internal Server Error....');\r\n        } else if (error.StatusCode === 401) {\r\n          this.toastr.error('Unauthorized Access Error....');\r\n        } else if (error.StatusCode === 403) {\r\n          this.toastr.error('Forbidden Error....');\r\n        } else {\r\n        }\r\n      }\r\n    );\r\n}\r\n//#endregion\r\n\r\n//#region  \"GetAccountDetails\"\r\nGetAccountDetails() {\r\n  this.accountservice\r\n    .GetAccountDetails()\r\n    .subscribe(\r\n      data => {\r\n        this.accountDropdown = [];\r\n        this.selectedAccounts = [];\r\n        if (data.StatusCode === 200 && data.data.AccountDetailList != null) {\r\n          data.data.AccountDetailList = data.data.AccountDetailList.filter(\r\n            x => x.AccountLevelId === 4\r\n          );\r\n          if (data.data.AccountDetailList.length > 0) {\r\n            data.data.AccountDetailList.forEach(element => {\r\n              this.accountDropdown.push({\r\n                Id: element.AccountCode,\r\n                Name: element.AccountName\r\n              });\r\n            });\r\n\r\n            const AccountNos = [];\r\n\r\n            this.accountDropdown.forEach(x =>\r\n              this.selectedAccounts.push(x.Id)\r\n            );\r\n            this.journalFilterForm.controls['accountLists'].setValue(this.selectedAccounts);\r\n          }\r\n        }\r\n      },\r\n      error => {\r\n        if (error.StatusCode === 500) {\r\n          this.toastr.error('Internal Server Error....');\r\n        } else if (error.StatusCode === 401) {\r\n          this.toastr.error('Unauthorized Access Error....');\r\n        } else if (error.StatusCode === 403) {\r\n          this.toastr.error('Forbidden Error....');\r\n        } else {\r\n        }\r\n      }\r\n    );\r\n}\r\n//#endregion\r\n\r\nExportTrialBalPdf(value) {\r\n  this.journalFilter = {\r\n    CurrencyId: value.CurrencyId,\r\n    JournalCode: value.JournalCode,\r\n    OfficesList: value.OfficesList,\r\n    RecordType:\r\n      value.RecordType == null ? this.defaultRecordType : value.RecordType,\r\n    FromDate: new Date(\r\n      new Date(value.date.begin).getFullYear(),\r\n      new Date(value.date.begin).getMonth(),\r\n      new Date(value.date.begin).getDate(),\r\n      new Date().getHours(),\r\n      new Date().getMinutes(),\r\n      new Date().getSeconds()\r\n    ),\r\n    ToDate: new Date(\r\n      new Date(value.date.end).getFullYear(),\r\n      new Date(value.date.end).getMonth(),\r\n      new Date(value.date.end).getDate(),\r\n      new Date().getHours(),\r\n      new Date().getMinutes(),\r\n      new Date().getSeconds()\r\n    ),\r\n    BudgetLine: value.BudgetLine,\r\n    Project: value.Project,\r\n    JobCode: value.JobCode,\r\n    accountLists: value.accountLists,\r\n    date: null\r\n  };\r\n  this.accountservice.onExportJournalTrialBalancePdf(this.journalFilter);\r\n}\r\n\r\nExportBudgetlinePdf(value) {\r\n  this.journalFilter = {\r\n    CurrencyId: value.CurrencyId,\r\n    JournalCode: value.JournalCode,\r\n    OfficesList: value.OfficesList,\r\n    RecordType:\r\n      value.RecordType == null ? this.defaultRecordType : value.RecordType,\r\n    FromDate: new Date(\r\n      new Date(value.date.begin).getFullYear(),\r\n      new Date(value.date.begin).getMonth(),\r\n      new Date(value.date.begin).getDate(),\r\n      new Date().getHours(),\r\n      new Date().getMinutes(),\r\n      new Date().getSeconds()\r\n    ),\r\n    ToDate: new Date(\r\n      new Date(value.date.end).getFullYear(),\r\n      new Date(value.date.end).getMonth(),\r\n      new Date(value.date.end).getDate(),\r\n      new Date().getHours(),\r\n      new Date().getMinutes(),\r\n      new Date().getSeconds()\r\n    ),\r\n    BudgetLine: value.BudgetLine,\r\n    Project: value.Project,\r\n    JobCode: value.JobCode,\r\n    accountLists: value.accountLists,\r\n    date: null\r\n  };\r\n  this.accountservice.onExportJournalBudgetlinePdf(this.journalFilter);\r\n}\r\n\r\nExportLedgerPdf(value) {\r\n  this.journalFilter = {\r\n    CurrencyId: value.CurrencyId,\r\n    JournalCode: value.JournalCode,\r\n    OfficesList: value.OfficesList,\r\n    RecordType:\r\n      value.RecordType == null ? this.defaultRecordType : value.RecordType,\r\n    FromDate: new Date(\r\n      new Date(value.date.begin).getFullYear(),\r\n      new Date(value.date.begin).getMonth(),\r\n      new Date(value.date.begin).getDate(),\r\n      new Date().getHours(),\r\n      new Date().getMinutes(),\r\n      new Date().getSeconds()\r\n    ),\r\n    ToDate: new Date(\r\n      new Date(value.date.end).getFullYear(),\r\n      new Date(value.date.end).getMonth(),\r\n      new Date(value.date.end).getDate(),\r\n      new Date().getHours(),\r\n      new Date().getMinutes(),\r\n      new Date().getSeconds()\r\n    ),\r\n    BudgetLine: value.BudgetLine,\r\n    Project: value.Project,\r\n    JobCode: value.JobCode,\r\n    accountLists: value.accountLists,\r\n    date: null\r\n  };\r\n  this.accountservice.onExportJournalLedgerPdf(this.journalFilter);\r\n}\r\nExportJournalPdf(value){\r\n  this.journalFilter = {\r\n    CurrencyId: value.CurrencyId,\r\n    JournalCode: value.JournalCode,\r\n    OfficesList: value.OfficesList,\r\n    RecordType:\r\n      value.RecordType == null ? this.defaultRecordType : value.RecordType,\r\n    FromDate: new Date(\r\n      new Date(value.date.begin).getFullYear(),\r\n      new Date(value.date.begin).getMonth(),\r\n      new Date(value.date.begin).getDate(),\r\n      new Date().getHours(),\r\n      new Date().getMinutes(),\r\n      new Date().getSeconds()\r\n    ),\r\n    ToDate: new Date(\r\n      new Date(value.date.end).getFullYear(),\r\n      new Date(value.date.end).getMonth(),\r\n      new Date(value.date.end).getDate(),\r\n      new Date().getHours(),\r\n      new Date().getMinutes(),\r\n      new Date().getSeconds()\r\n    ),\r\n    BudgetLine: value.BudgetLine,\r\n    Project: value.Project,\r\n    JobCode: value.JobCode,\r\n    accountLists: value.accountLists,\r\n    date: null\r\n  };\r\n  this.accountservice.onExportJournalPdf(this.journalFilter);\r\n}\r\n\r\nExportJournalExcel(value) {\r\n  this.journalFilter = {\r\n    CurrencyId: value.CurrencyId,\r\n    JournalCode: value.JournalCode,\r\n    OfficesList: value.OfficesList,\r\n    RecordType:\r\n      value.RecordType == null ? this.defaultRecordType : value.RecordType,\r\n    FromDate: new Date(\r\n      new Date(value.date.begin).getFullYear(),\r\n      new Date(value.date.begin).getMonth(),\r\n      new Date(value.date.begin).getDate(),\r\n      new Date().getHours(),\r\n      new Date().getMinutes(),\r\n      new Date().getSeconds()\r\n    ),\r\n    ToDate: new Date(\r\n      new Date(value.date.end).getFullYear(),\r\n      new Date(value.date.end).getMonth(),\r\n      new Date(value.date.end).getDate(),\r\n      new Date().getHours(),\r\n      new Date().getMinutes(),\r\n      new Date().getSeconds()\r\n    ),\r\n    BudgetLine: value.BudgetLine,\r\n    Project: value.Project,\r\n    JobCode: value.JobCode,\r\n    accountLists: value.accountLists,\r\n    date: null\r\n  };\r\n  this.accountservice.onExportJournalExcel(this.journalFilter);\r\n}\r\n\r\n//#region \"export pdf\"\r\nprintJournalReport(): void {\r\n  let printContents, popupWin;\r\n  printContents = document.getElementById('print-content-journal-report')\r\n    .innerHTML;\r\n  popupWin = window.open('', '_blank', '');\r\n  popupWin.document.open();\r\n  popupWin.document.write(`\r\n  <html>\r\n    <head>\r\n      <title></title>\r\n      <style>\r\n      //........Customized style.......\r\n      </style>\r\n    </head>\r\n    <body onload=\"window.print();window.close()\">${printContents}</body>\r\n  </html>`);\r\n  popupWin.document.close();\r\n}\r\n//#endregion\r\n\r\n//#region \"Hide/Show\"\r\nshowjournalListLoading() {\r\n  this.journalListLoading = true;\r\n}\r\nhidejournalListLoading() {\r\n  this.journalListLoading = false;\r\n}\r\n\r\nshowJournalPdf() {\r\n  this.viewPdfFlag = false;\r\n}\r\n\r\nhideJournalPdf() {\r\n  this.viewPdfFlag = true;\r\n}\r\n//#endregion\r\ncustomizeValue(data: any) {\r\n  if (data.value !== 0) {\r\n    return parseFloat(data.value).toFixed(4);\r\n  }\r\n}\r\n}\r\n\r\nclass JournalModel {\r\nJournalCode: any;\r\nVoucherNo: any;\r\nTransactionDate: any;\r\nAccountCode: any;\r\nTransactionDescription: any;\r\nCurrencyId: any;\r\nProject: any;\r\nBudgetLineDescription: any;\r\nCreditAmount: any;\r\nDebitAmount: any;\r\n}\r\n\r\ninterface JournalFilterModel {\r\nOfficesList: any[];\r\nCurrencyId: number;\r\nJournalCode: any[];\r\nRecordType: number;\r\naccountLists: any;\r\nProject: any[];\r\nBudgetLine: any[];\r\nJobCode: any[];\r\nFromDate: any;\r\nToDate: any;\r\ndate: any;\r\n}\r\n\r\n// Journal\r\nexport class JournalVoucherModel {\r\n  JournalCode: number;\r\n  AccountCode: number;\r\n  Amount: number;\r\n  TransactionNo: number;\r\n  TransactionDate: string;\r\n  TransactionType: string;\r\n  VoucherNo: number;\r\n}\r\n\r\ninterface IJournalList {\r\n  Transaction_Date;\r\n  Voucher_Code;\r\n  Transaction_Description;\r\n  Currency;\r\n  Account_Code;\r\n  Account_Name;\r\n  DebitAmount;\r\n  CreditAmount;\r\n  Project;\r\n  BudgetLine;\r\n  JobCode;\r\n}\r\n","module.exports = \"<mat-card [ngStyle]=\\\"scrollStyles\\\">\\r\\n  <div class=\\\"main-journal\\\">\\r\\n    <mat-card>\\r\\n      <form [formGroup]=\\\"ledgerFilterForm\\\" (ngSubmit)=\\\"onApplyingFilter(ledgerFilterForm.value)\\\">\\r\\n        <div class=\\\"row\\\">\\r\\n          <div class=\\\"col-md-12\\\">\\r\\n                <div class=\\\"col-md-3\\\">\\r\\n                    <lib-search-dropdown\\r\\n                    placeholder=\\\"Office\\\"\\r\\n                    [multiSelect]=\\\"true\\\"\\r\\n                    placeholderSearchLabel=\\\"Find Offices...\\\"\\r\\n                    noEntriesFoundLabel=\\\"No matching Accounts found\\\"\\r\\n                    [dataSource]=\\\"officeDropdown\\\"\\r\\n                    [selectedValue]=\\\"OfficeIds\\\"\\r\\n                    (openedChange)=\\\"\\r\\n                            onOpenedOfficeMultiSelectChange($event)\\r\\n                          \\\"\\r\\n                  >\\r\\n                  </lib-search-dropdown>\\r\\n                  <!-- <mat-form-field>\\r\\n                      <mat-label>Office</mat-label>\\r\\n                      <mat-select formControlName=\\\"OfficesList\\\" multiple>\\r\\n                          <mat-option *ngFor=\\\"let office of officeDropdown\\\" [value]=\\\"office.OfficeId\\\">{{office.OfficeName}}</mat-option>\\r\\n                      </mat-select>\\r\\n                  </mat-form-field> -->\\r\\n                </div>\\r\\n                <div class=\\\"col-md-3\\\">\\r\\n                    <lib-hum-dropdown [options]=\\\"currencyId$\\\" formControlName=\\\"CurrencyId\\\" [placeHolder]=\\\"'Currency'\\\"\\r\\n                    ></lib-hum-dropdown>\\r\\n                </div>\\r\\n                <div class=\\\"col-md-3\\\">\\r\\n                  <lib-hum-dropdown [options]=\\\"recordType$\\\" formControlName=\\\"RecordType\\\" [placeHolder]=\\\"'Record Type'\\\"\\r\\n                    ></lib-hum-dropdown>\\r\\n                </div>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"row\\\">\\r\\n          <div class=\\\"col-md-12\\\">\\r\\n              <div class=\\\"col-md-3\\\">\\r\\n                  <lib-search-dropdown\\r\\n                  placeholder=\\\"Accounts\\\"\\r\\n                  [multiSelect]=\\\"true\\\"\\r\\n                  placeholderSearchLabel=\\\"Find Accounts...\\\"\\r\\n                  noEntriesFoundLabel=\\\"No matching Accounts found\\\"\\r\\n                  [dataSource]=\\\"accountDropdown\\\"\\r\\n                  [selectedValue]=\\\"AccountIds\\\"\\r\\n                  (openedChange)=\\\"\\r\\n                          onOpenedAccountMultiSelectChange($event)\\r\\n                        \\\"\\r\\n                >\\r\\n                </lib-search-dropdown>\\r\\n                  <!-- <mat-form-field>\\r\\n                      <mat-label>Accounts</mat-label>\\r\\n                      <mat-select formControlName=\\\"accountLists\\\" multiple>\\r\\n                          <mat-option *ngFor=\\\"let account of accountDropdown\\\" [value]=\\\"account.AccountCode\\\">{{account.AccountName}}</mat-option>\\r\\n                      </mat-select>\\r\\n                  </mat-form-field> -->\\r\\n              </div>\\r\\n              <div class=\\\"col-md-3\\\">\\r\\n                  <mat-form-field>\\r\\n                    <input matInput [satDatepicker]=\\\"resultPicker\\\" formControlName=\\\"date\\\">\\r\\n                    <sat-datepicker\\r\\n                        #resultPicker\\r\\n                        [rangeMode]=\\\"true\\\">\\r\\n                    </sat-datepicker>\\r\\n                    <sat-datepicker-toggle matSuffix [for]=\\\"resultPicker\\\"></sat-datepicker-toggle>\\r\\n                  </mat-form-field>\\r\\n              </div>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-md-8\\\"></div>\\r\\n          <div class=\\\"col-md-4\\\">\\r\\n            <!-- <button class=\\\"pull-right\\\" type=\\\"submit\\\" mat-stroked-button color=\\\"accent\\\">Update Filters</button> -->\\r\\n            <hum-button [isSubmit]=\\\"true\\\" [type]=\\\"'save'\\\" [text]=\\\"'UPDATE FILTERS'\\\">\\r\\n            </hum-button>\\r\\n            <hum-button (click)=\\\"ExportPdf(ledgerFilterForm.value)\\\" [type]=\\\"'download'\\\" [text]=\\\"'PDF EXPORT'\\\">\\r\\n            </hum-button>\\r\\n          </div>\\r\\n        </div>\\r\\n      </form>\\r\\n\\r\\n      <div class=\\\"row\\\">\\r\\n        <div class=\\\"col-md-6 text-center\\\">\\r\\n          <h3>Opening Balance</h3>\\r\\n          <p>{{this.openingBalance}}</p>\\r\\n        </div>\\r\\n        <div class=\\\"col-md-6 text-center\\\">\\r\\n          <h3>Closing Balance</h3>\\r\\n          <p>{{this.closingBalance}}</p>\\r\\n        </div>\\r\\n      </div>\\r\\n      <mat-divider></mat-divider>\\r\\n      <hum-table [headers]=\\\"ledgerListHeaders$\\\" [items]=\\\"ledgerFilterList$\\\"></hum-table>\\r\\n    </mat-card>\\r\\n  </div>\\r\\n</mat-card>\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Rhc2hib2FyZC9hY2NvdW50aW5nL2xlZGdlci1zdGF0ZW1lbnQtcmVwb3J0L2xlZGdlci1zdGF0ZW1lbnQtcmVwb3J0LmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit, HostListener } from '@angular/core';\r\nimport {ReportService} from 'src/app/dashboard/accounting/report-services/report.service';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { forkJoin } from 'rxjs/observable/forkJoin';\r\nimport { Validators, FormBuilder, FormGroup } from '@angular/forms';\r\nimport { GlobalSharedService } from 'src/app/shared/services/global-shared.service';\r\nimport { IMenuList } from 'src/app/shared/dbheader/dbheader.component';\r\nimport { of, Observable } from 'rxjs';\r\nimport { IDropDownModel } from '../report-services/report-models';\r\nimport { map } from 'rxjs/operators';\r\nimport { IOpenedChange } from 'projects/library/src/lib/components/search-dropdown/search-dropdown.model';\r\n\r\ninterface LedgerFilter {\r\n  CurrencyId: number;\r\n  RecordType: number;\r\n  FromDate: any;\r\n  ToDate: any;\r\n  accountLists: any;\r\n  OfficeIdList: any;\r\n}\r\n\r\n@Component({\r\n  selector: 'app-ledger-statement-report',\r\n  templateUrl: './ledger-statement-report.component.html',\r\n  styleUrls: ['./ledger-statement-report.component.scss']\r\n})\r\nexport class LedgerStatementReportComponent implements OnInit {\r\n\r\n  dataSource: any[];\r\n  ledgerReportFinal: any[];\r\n\r\n  currencyDropdown: any[];\r\n  officeDropdown: any[];\r\n  recordTypeDropdown: any[];\r\n  accountDropdown: any[];\r\n  ledgerFilter: LedgerFilter;\r\n  selectedOffices: any[];\r\n\r\n  OpenningBalance: any = 0.0;\r\n  ClosingBalance: any = 0.0;\r\n  OpenningBalanceType: any = null;\r\n  ClosingBalanceType: any = null;\r\n  FromDate: any;\r\n  currentDateFinal: any;\r\n\r\n  ledgerDateRange: any;\r\n  openingBalance = 0;\r\n  closingBalance = 0;\r\n\r\n  // loader\r\n  ledgerLoading = false;\r\n\r\n  selectedCurrency: any;\r\n  defaultRecordType: any;\r\n  selectedAccounts: any;\r\n  initialFlag = 0;\r\n\r\n  ledgerFilterForm: FormGroup;\r\n  menuList: IMenuList[] = [];\r\n  ledgerListHeaders$ = of(['Transaction Date', 'Voucher', 'Description', 'Currency', 'Account No', 'Account Name',\r\n  'Debit', 'Credit']);\r\n  currencyId$: Observable<IDropDownModel[]>;\r\n  recordType$: Observable<IDropDownModel[]>;\r\n  ledgerFilterList$: Observable<ILedgerList[]>;\r\n  // Report\r\n  viewPdfFlag = true;\r\n  debitSumForReport = 0.0;\r\n  creditSumForReport = 0.0;\r\n  balanceSumForReport = 0.0;\r\n  screenHeight: number;\r\n  screenWidth: number;\r\n  scrollStyles: any;\r\n  //#endregion\r\n  //#endregion\r\n  constructor(\r\n    private accountservice: ReportService,\r\n    private toastr: ToastrService,\r\n    private fb: FormBuilder,\r\n    private globalService: GlobalSharedService\r\n  ) {\r\n    this.FromDate = '01/01/' + new Date().getFullYear();\r\n    const currentDate = new Date().getDate();\r\n    const currentMonth = new Date().getMonth() + 1;\r\n    const currentYear = new Date().getFullYear();\r\n    this.recordTypeDropdown = [\r\n      {\r\n        value: 1,\r\n        name: 'Single'\r\n      },\r\n      {\r\n        value: 2,\r\n        name: 'Consolidate'\r\n      }\r\n    ];\r\n    this.recordType$ = of(this.recordTypeDropdown);\r\n\r\n    this.defaultRecordType = this.recordTypeDropdown[0].value;\r\n\r\n    this.ledgerDateRange = [];\r\n    this.ledgerDateRange.push(\r\n      new Date(\r\n        new Date().getFullYear(),\r\n        0,\r\n        1,\r\n        new Date().getHours(),\r\n        new Date().getMinutes(),\r\n        new Date().getSeconds()\r\n      )\r\n    );\r\n    this.ledgerDateRange.push(\r\n      new Date(\r\n        new Date().getFullYear(),\r\n        new Date().getMonth(),\r\n        new Date().getDate(),\r\n        new Date().getHours(),\r\n        new Date().getMinutes(),\r\n        new Date().getSeconds()\r\n      )\r\n    );\r\n    this.getScreenSize();\r\n   }\r\n   @HostListener('window:resize', ['$event'])\r\n   getScreenSize(event?) {\r\n     this.screenHeight = window.innerHeight;\r\n     this.screenWidth = window.innerWidth;\r\n     this.scrollStyles = {\r\n       'overflow-y': 'auto',\r\n       height: this.screenHeight - 110 + 'px',\r\n       'overflow-x': 'hidden'\r\n     };\r\n   }\r\n  ngOnInit() {\r\n    this.initForm();\r\n    this.globalService.setMenuHeaderName('Ledger');\r\n    this.globalService.setMenuList(this.menuList);\r\n    // get all api response\r\n    const currencyRequest = this.getCurrencyCodeListResponse();\r\n    const officeRequest = this.getOfficeCodeListResponse();\r\n    const accountResponse = this.GetAccountDetailsResponse();\r\n\r\n    // perform filter when we get all api responses\r\n    forkJoin([currencyRequest, officeRequest, accountResponse]).subscribe(\r\n      results => {\r\n        this.getCurrencyCodeList(results[0]);\r\n        this.getOfficeCodeList(results[1]);\r\n        this.GetAccountDetails(results[2]);\r\n\r\n        const obj = {\r\n          CurrencyId: this.selectedCurrency,\r\n          accountLists: this.selectedAccounts,\r\n          RecordType: this.defaultRecordType,\r\n          date: {'begin': new Date(new Date().getFullYear(), 0, 1), 'end': new Date()},\r\n          OfficesList: this.selectedOffices\r\n        };\r\n        this.onApplyingFilter(obj);\r\n      },\r\n      error => {\r\n          this.toastr.error('Internal server error');\r\n      }\r\n    );\r\n    this.ledgerFilterForm = this.fb.group({\r\n      'OfficesList': ['', Validators.required],\r\n      'CurrencyId': ['', Validators.required],\r\n      'RecordType': [1, Validators.required],\r\n      'accountLists': ['', Validators.required],\r\n      'date': [{'begin': new Date(new Date().getFullYear(), 0, 1), 'end': new Date()}]\r\n    });\r\n  }\r\n\r\n  initForm() {\r\n    this.ledgerFilter = {\r\n      CurrencyId: 0,\r\n      RecordType: 1,\r\n      accountLists: [],\r\n      FromDate: this.FromDate,\r\n      ToDate: new Date(),\r\n      OfficeIdList: []\r\n    };\r\n  }\r\n\r\n  getCurrencyCodeListResponse() {\r\n    return this.accountservice.GetAllCurrencyCodeList();\r\n  }\r\n  //#endregion\r\n\r\n  //#region  \"Get Office Code in Add, Edit Dropdown\"\r\n  getOfficeCodeListResponse() {\r\n    return this.accountservice.GetAllOfficeCodeList();\r\n  }\r\n  //#endregion\r\n\r\n  //#region  \"GetAccountDetails\"\r\n  GetAccountDetailsResponse() {\r\n    return this.accountservice.GetAccountDetails();\r\n  }\r\n  //#endregion\r\n\r\n  getCurrencyCodeList(response: any) {\r\n    // console.log(response);\r\n    if (response.StatusCode === 200 && response.data.CurrencyList != null) {\r\n      this.currencyDropdown = [];\r\n      response.data.CurrencyList.forEach(element => {\r\n        this.currencyDropdown.push(element);\r\n      });\r\n      this.currencyId$ = of(this.currencyDropdown.map(y => {\r\n        return {\r\n          value: y.CurrencyId,\r\n          name: y.CurrencyCode + '-' + y.CurrencyName\r\n        };\r\n      }));\r\n      this.selectedCurrency = this.currencyDropdown[0].CurrencyId;\r\n      this.ledgerFilterForm.controls['CurrencyId'].setValue(this.selectedCurrency);\r\n    } else {\r\n      this.toastr.error(response.Message);\r\n    }\r\n  }\r\n\r\n  getOfficeCodeList(response: any) {\r\n    // console.log(response);\r\n\r\n    if (\r\n      response.StatusCode === 200 &&\r\n      response.data.OfficeDetailsList != null\r\n    ) {\r\n      this.officeDropdown = [];\r\n      response.data.OfficeDetailsList.forEach(element => {\r\n        this.officeDropdown.push({\r\n          Id: element.OfficeId,\r\n          Name: element.OfficeName\r\n        });\r\n      });\r\n\r\n      const officeIds: any[] =\r\n        localStorage.getItem('ALLOFFICES') != null\r\n          ? localStorage.getItem('ALLOFFICES').split(',')\r\n          : null;\r\n\r\n      // fetch only allowed office\r\n      // officeIds.forEach(x => {\r\n      //   const officeData = this.officeDropdown.filter(\r\n      //     // tslint:disable-next-line:radix\r\n      //     e => e.OfficeId === parseInt(x)\r\n      //   )[0];\r\n      //   this.officeDropdown.push(officeData);\r\n      // });\r\n\r\n      this.selectedOffices = [];\r\n      this.officeDropdown.forEach(x => {\r\n        // tslint:disable-next-line:radix\r\n        this.selectedOffices.push(x.Id);\r\n      });\r\n      this.ledgerFilterForm.controls['OfficesList'].setValue(this.selectedOffices);\r\n    } else {\r\n      this.toastr.error(response.Message);\r\n    }\r\n  }\r\n\r\n  GetAccountDetails(response: any) {\r\n    // console.log(response);\r\n\r\n    this.accountDropdown = [];\r\n    this.selectedAccounts = [];\r\n    if (\r\n      response.StatusCode === 200 &&\r\n      response.data.AccountDetailList != null\r\n    ) {\r\n      response.data.AccountDetailList = response.data.AccountDetailList.filter(\r\n        x => x.AccountLevelId === 4\r\n      );\r\n      if (response.data.AccountDetailList.length > 0) {\r\n        response.data.AccountDetailList.forEach(element => {\r\n          this.accountDropdown.push({\r\n            Id: element.AccountCode,\r\n            Name: element.AccountName\r\n          });\r\n        });\r\n\r\n          this.accountDropdown.map(x => {\r\n            this.selectedAccounts.push(x.Id);\r\n          });\r\n          this.ledgerFilterForm.controls['accountLists'].setValue(this.selectedAccounts);\r\n\r\n      }\r\n    } else {\r\n      this.toastr.error(response.Message);\r\n    }\r\n  }\r\n\r\n  //#region \"onApplyingFilter\"\r\n  onApplyingFilter(value: any) {\r\n    if (this.ledgerDateRange == null) {\r\n      this.toastr.error('Please Select Date Range');\r\n    } else {\r\n      const ledgerFilter: LedgerFilter = {\r\n        CurrencyId: value.CurrencyId,\r\n        accountLists: value.accountLists,\r\n        RecordType: value.RecordType,\r\n        FromDate: new Date(\r\n          new Date(value.date.begin).getFullYear(),\r\n          new Date(value.date.begin).getMonth(),\r\n          new Date(value.date.begin).getDate(),\r\n          new Date().getHours(),\r\n          new Date().getMinutes(),\r\n          new Date().getSeconds()\r\n        ),\r\n        ToDate: new Date(\r\n          new Date(value.date.end).getFullYear(),\r\n          new Date(value.date.end).getMonth(),\r\n          new Date(value.date.end).getDate(),\r\n          new Date().getHours(),\r\n          new Date().getMinutes(),\r\n          new Date().getSeconds()\r\n        ),\r\n        OfficeIdList: value.OfficesList\r\n      };\r\n      this.GetLedgerDetails(ledgerFilter);\r\n    }\r\n  }\r\n  //#endregion\r\n  onOpenedAccountMultiSelectChange(event: IOpenedChange) {\r\n    this.ledgerFilterForm.controls['accountLists'].setValue(event.Value);\r\n  }\r\n  onOpenedOfficeMultiSelectChange(event: IOpenedChange) {\r\n    this.ledgerFilterForm.controls['OfficesList'].setValue(event.Value);\r\n  }\r\n  get AccountIds() {\r\n    return this.ledgerFilterForm.get('accountLists').value;\r\n  }\r\n  get OfficeIds() {\r\n    return this.ledgerFilterForm.get('OfficesList').value;\r\n  }\r\n  //#region \"GetLedgerDetails\"\r\n  GetLedgerDetails(journalFilter: any) {\r\n    this.showLedgerLoading();\r\n    this.ledgerReportFinal = []; // report\r\n    this.openingBalance = 0;\r\n    this.closingBalance = 0;\r\n\r\n    this.accountservice\r\n      .GetAllLedgerDetails(\r\n        journalFilter\r\n      )\r\n      .subscribe(\r\n        data => {\r\n          this.dataSource = [];\r\n          if (\r\n            data.StatusCode === 200 &&\r\n            data.data.LedgerList != null &&\r\n            data.data.LedgerList.length > 0\r\n          ) {\r\n            if (data.data.AccountOpendingAndClosingBL != null) {\r\n              this.openingBalance =\r\n                data.data.AccountOpendingAndClosingBL.OpeningBalance != null\r\n                  ? data.data.AccountOpendingAndClosingBL.OpeningBalance\r\n                  : null;\r\n              this.closingBalance =\r\n                data.data.AccountOpendingAndClosingBL.ClosingBalance != null\r\n                  ? data.data.AccountOpendingAndClosingBL.ClosingBalance\r\n                  : null;\r\n            }\r\n\r\n            data.data.LedgerList.forEach(element => {\r\n              this.dataSource.push(element);\r\n            });\r\n            this.ledgerFilterList$ = of(this.dataSource).pipe(\r\n              map(r => r.map(v => ({\r\n                Transaction_Date: new Date(v.TransactionDate).getDate() + '/' + (new Date(v.TransactionDate).getMonth() + 1) +\r\n                '/' + new Date(v.TransactionDate).getFullYear(),\r\n                Voucher: v.VoucherReferenceNo,\r\n                Description: v.Description,\r\n                Currency: v.CurrencyName,\r\n                Account_Code: v.ChartOfAccountNewCode,\r\n                Account_Name: v.ChartAccountName,\r\n                DebitAmount: v.DebitAmount,\r\n                CreditAmount: v.CreditAmount\r\n               }) as ILedgerList))\r\n            );\r\n            if (\r\n              data.StatusCode === 200 &&\r\n              data.data.ledgerReportFinal != null &&\r\n              data.data.ledgerReportFinal.length > 0\r\n            ) {\r\n              this.ledgerReportFinal = data.data.ledgerReportFinal;\r\n            }\r\n          } else if (data.StatusCode === 400) {\r\n            this.toastr.warning(data.Message);\r\n          }\r\n          this.hideLedgerLoading();\r\n        },\r\n        error => {\r\n          if (error.StatusCode === 500) {\r\n            this.toastr.error('Internal Server Error....');\r\n          } else if (error.StatusCode === 401) {\r\n            this.toastr.error('Unauthorized Access Error....');\r\n          } else if (error.StatusCode === 403) {\r\n            this.toastr.error('Forbidden Error....');\r\n          }\r\n          this.hideLedgerLoading();\r\n        }\r\n      );\r\n  }\r\n  //#endregion\r\n  ExportPdf(value) {\r\n    const ledgerFilter: LedgerFilter = {\r\n      CurrencyId: value.CurrencyId,\r\n      accountLists: value.accountLists,\r\n      RecordType: value.RecordType,\r\n      FromDate: new Date(\r\n        new Date(value.date.begin).getFullYear(),\r\n        new Date(value.date.begin).getMonth(),\r\n        new Date(value.date.begin).getDate(),\r\n        new Date().getHours(),\r\n        new Date().getMinutes(),\r\n        new Date().getSeconds()\r\n      ),\r\n      ToDate: new Date(\r\n        new Date(value.date.end).getFullYear(),\r\n        new Date(value.date.end).getMonth(),\r\n        new Date(value.date.end).getDate(),\r\n        new Date().getHours(),\r\n        new Date().getMinutes(),\r\n        new Date().getSeconds()\r\n      ),\r\n      OfficeIdList: value.OfficesList\r\n    };\r\n    this.accountservice.onExportLedgerPdf(ledgerFilter);\r\n  }\r\n\r\n  //#region \"export pdf\"\r\n  printLedgerReport(): void {\r\n    let printContents, popupWin;\r\n    printContents = document.getElementById('print-content-ledger-report')\r\n      .innerHTML;\r\n    popupWin = window.open('', '_blank', '');\r\n    popupWin.document.open();\r\n    popupWin.document.write(`\r\n        <html>\r\n        <head>\r\n            <title></title>\r\n            <style>\r\n            //........Customized style.......\r\n            </style>\r\n        </head>\r\n        <body onload=\"window.print();window.close()\">${printContents}</body>\r\n        </html>`);\r\n    popupWin.document.close();\r\n  }\r\n  //#endregion\r\n\r\n  //#region \"show/hide\"\r\n  showLedgerLoading() {\r\n    this.ledgerLoading = true;\r\n  }\r\n  hideLedgerLoading() {\r\n    this.ledgerLoading = false;\r\n  }\r\n\r\n  showLedgerPdf() {\r\n    this.viewPdfFlag = false;\r\n  }\r\n\r\n  hideLedgerPdf() {\r\n    this.viewPdfFlag = true;\r\n  }\r\n  //#endregion\r\n\r\n  customizeValue(data: any) {\r\n    return parseFloat(data.value).toFixed(4);\r\n  }\r\n}\r\ninterface ILedgerList {\r\n  Transaction_Date;\r\n  Voucher;\r\n  Description;\r\n  Currency;\r\n  Account_Code;\r\n  Account_Name;\r\n  DebitAmount;\r\n  CreditAmount;\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { GlobalService } from 'src/app/shared/services/global-services.service';\r\nimport { AppUrlService } from 'src/app/shared/services/app-url.service';\r\nimport { GLOBAL } from 'src/app/shared/global';\r\nimport { GlobalSharedService } from 'src/app/shared/services/global-shared.service';\r\nimport { map } from 'rxjs/operators';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ReportService {\r\n\r\n  constructor(\r\n    private globalService: GlobalService,\r\n    private globalSharedService: GlobalSharedService,\r\n    private appurl: AppUrlService\r\n  ) { }\r\n\r\n  GetAllCurrencyCodeList() {\r\n    return this.globalService.getList(\r\n      this.appurl.getApiUrl() + GLOBAL.API_code_GetAllCurrency\r\n    );\r\n  }\r\n\r\n  GetAllOfficeCodeList() {\r\n    return this.globalService.getList(\r\n      this.appurl.getApiUrl() + GLOBAL.API_code_GetAllOffice\r\n    );\r\n  }\r\n\r\n  sortDropdown(dataSource: any[], fieldName: string) {\r\n    // Sorted in Asc\r\n    return dataSource.sort((x, y) => {\r\n      // tslint:disable-next-line:curly\r\n      if (x[fieldName] < y[fieldName]) return -1;\r\n      // tslint:disable-next-line:curly\r\n      if (x[fieldName] > y[fieldName]) return 1;\r\n      return 0;\r\n    });\r\n  }\r\n\r\n  GetAllJournalDetails(journalFilter) {\r\n    return this.globalService.post(\r\n      this.appurl.getApiUrl() + GLOBAL.API_AccountReports_GetJournalVoucherDetails,\r\n      journalFilter\r\n    );\r\n  }\r\n\r\n  sumOfListInArray(items, prop) {\r\n    if (items == null) {\r\n      return 0;\r\n    }\r\n    return items.reduce(function(a, b) {\r\n      return b[prop] == null ? a : a + b[prop];\r\n    }, 0);\r\n  }\r\n\r\n  GetAllJournalCodeList() {\r\n    return this.globalService.getList(\r\n      this.appurl.getApiUrl() + GLOBAL.API_Code_GetAllJournalDetail\r\n    );\r\n  }\r\n\r\n  GetAccountDetails() {\r\n    return this.globalService.getList(\r\n      this.appurl.getApiUrl() + GLOBAL.API_Accounting_GetAccountDetails\r\n    );\r\n  }\r\n\r\n  GetAllLedgerDetails(journalFilter) {\r\n    return this.globalService.post(\r\n      this.appurl.getApiUrl() + GLOBAL.API_AccountReports_GetAllLedgerDetails,\r\n      journalFilter\r\n    );\r\n  }\r\n\r\n  GetAllTrailBalance(trialBalanceFilter) {\r\n    return this.globalService.post(\r\n      this.appurl.getApiUrl() + GLOBAL.API_AccountReports_GetTrialBalanceReport,\r\n      trialBalanceFilter\r\n    );\r\n  }\r\n\r\n  GetProjectList(): any {\r\n    return this.globalService\r\n      .getList(this.appurl.getApiUrl() + GLOBAL.API_Project_GetAllProjectList)\r\n      .pipe(\r\n        map(x => {\r\n          const responseData = {\r\n            data: x.data.ProjectDetailModel,\r\n            statusCode: x.StatusCode,\r\n            message: x.Message\r\n          };\r\n          return responseData;\r\n        })\r\n      );\r\n  }\r\n  getProjectJobList(projectBudgetIds: number[]) {\r\n    return this.globalService\r\n      .post(\r\n        this.appurl.getApiUrl() + GLOBAL.API_Project_GetProjectJobsByBudgetLineIds,\r\n        projectBudgetIds\r\n      )\r\n      .pipe(\r\n        map(x => {\r\n          const responseData = {\r\n            data: x.data.ProjectJobDetailModel,\r\n            statusCode: x.StatusCode,\r\n            message: x.Message\r\n          };\r\n          return responseData;\r\n        })\r\n      );\r\n  }\r\n  getProjectBudgetLineList(projectIds: number[]) {\r\n    return this.globalService\r\n      .post(\r\n        this.appurl.getApiUrl() +\r\n          GLOBAL.API_Project_GetProjectBudgetLinesByProjectIds,\r\n        projectIds\r\n      )\r\n      .pipe(\r\n        map(x => {\r\n          const responseData = {\r\n            data: x.data.ProjectBudgetLineDetailList,\r\n            statusCode: x.StatusCode,\r\n            message: x.Message\r\n          };\r\n          return responseData;\r\n        })\r\n      );\r\n  }\r\n\r\n  onExportTrialBalancePdf(value) {\r\n    this.globalSharedService\r\n      .getFile(this.appurl.getApiUrl() + GLOBAL.API_Pdf_TrialBalanceReportPdf,\r\n      value\r\n      )\r\n      .pipe()\r\n      .subscribe();\r\n  }\r\n\r\n  onExportLedgerPdf(value) {\r\n    this.globalSharedService\r\n      .getFile(this.appurl.getApiUrl() + GLOBAL.API_Pdf_LedgerReportPdf,\r\n      value\r\n      )\r\n      .pipe()\r\n      .subscribe();\r\n  }\r\n\r\n  onExportJournalTrialBalancePdf(value) {\r\n    this.globalSharedService\r\n      .getFile(this.appurl.getApiUrl() + GLOBAL.API_Pdf_JournalTrialBalanceReportPdf,\r\n      value\r\n      )\r\n      .pipe()\r\n      .subscribe();\r\n  }\r\n\r\n  onExportJournalBudgetlinePdf(value) {\r\n    this.globalSharedService\r\n      .getFile(this.appurl.getApiUrl() + GLOBAL.API_Pdf_GetJournalBudgetLineSummaryPdf,\r\n      value\r\n      )\r\n      .pipe()\r\n      .subscribe();\r\n  }\r\n\r\n  onExportJournalLedgerPdf(value) {\r\n    this.globalSharedService\r\n      .getFile(this.appurl.getApiUrl() + GLOBAL.API_Pdf_GetJournalLedgerReportPdf,\r\n      value\r\n      )\r\n      .pipe()\r\n      .subscribe();\r\n  }\r\n\r\n  onExportJournalPdf(value){\r\n    this.globalSharedService\r\n      .getFile(this.appurl.getApiUrl() + GLOBAL.API_Pdf_GetJournalReportPdf,\r\n      value\r\n      )\r\n      .pipe()\r\n      .subscribe();\r\n  }\r\n\r\n  onExportJournalExcel(value){\r\n    this.globalSharedService\r\n      .getFile(this.appurl.getApiUrl() + GLOBAL.API_Pdf_GetJournalReportExcel,\r\n      value\r\n      )\r\n      .pipe()\r\n      .subscribe();\r\n  }\r\n\r\n\r\n}\r\n","module.exports = \"<mat-card [ngStyle]=\\\"scrollStyles\\\">\\r\\n    <div class=\\\"main-journal\\\">\\r\\n      <mat-card>\\r\\n        <form [formGroup]=\\\"trailbalFilterForm\\\" (ngSubmit)=\\\"onApplyingFilter(trailbalFilterForm.value)\\\">\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-md-12\\\">\\r\\n                  <div class=\\\"col-md-3\\\">\\r\\n                      <lib-search-dropdown\\r\\n                      placeholder=\\\"Office\\\"\\r\\n                      [multiSelect]=\\\"true\\\"\\r\\n                      placeholderSearchLabel=\\\"Find Offices...\\\"\\r\\n                      noEntriesFoundLabel=\\\"No matching Accounts found\\\"\\r\\n                      [dataSource]=\\\"officeDropdown\\\"\\r\\n                      [selectedValue]=\\\"OfficeIds\\\"\\r\\n                      (openedChange)=\\\"\\r\\n                              onOpenedOfficeMultiSelectChange($event)\\r\\n                            \\\"\\r\\n                    >\\r\\n                    </lib-search-dropdown>\\r\\n                    <!-- <mat-form-field>\\r\\n                        <mat-label>Office</mat-label>\\r\\n                        <mat-select formControlName=\\\"OfficesList\\\" multiple>\\r\\n                            <mat-option *ngFor=\\\"let office of officeDropdown\\\" [value]=\\\"office.OfficeId\\\">{{office.OfficeName}}</mat-option>\\r\\n                        </mat-select>\\r\\n                    </mat-form-field> -->\\r\\n                  </div>\\r\\n                  <div class=\\\"col-md-3\\\">\\r\\n                      <lib-hum-dropdown [options]=\\\"currencyId$\\\" formControlName=\\\"CurrencyId\\\" [placeHolder]=\\\"'Currency'\\\"\\r\\n                      ></lib-hum-dropdown>\\r\\n                  </div>\\r\\n                  <div class=\\\"col-md-3\\\">\\r\\n                    <lib-hum-dropdown [options]=\\\"recordType$\\\" formControlName=\\\"RecordType\\\" [placeHolder]=\\\"'Record Type'\\\"\\r\\n                      ></lib-hum-dropdown>\\r\\n                  </div>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-md-12\\\">\\r\\n                <div class=\\\"col-md-3\\\">\\r\\n                    <lib-search-dropdown\\r\\n                    placeholder=\\\"Accounts\\\"\\r\\n                    [multiSelect]=\\\"true\\\"\\r\\n                    placeholderSearchLabel=\\\"Find Accounts...\\\"\\r\\n                    noEntriesFoundLabel=\\\"No matching Accounts found\\\"\\r\\n                    [dataSource]=\\\"accountDropdown\\\"\\r\\n                    [selectedValue]=\\\"AccountIds\\\"\\r\\n                    (openedChange)=\\\"\\r\\n                            onOpenedAccountMultiSelectChange($event)\\r\\n                          \\\"\\r\\n                  >\\r\\n                  </lib-search-dropdown>\\r\\n                    <!-- <mat-form-field>\\r\\n                        <mat-label>Accounts</mat-label>\\r\\n                        <mat-select formControlName=\\\"accountLists\\\" multiple>\\r\\n                            <mat-option *ngFor=\\\"let account of accountDropdown\\\" [value]=\\\"account.AccountCode\\\">{{account.AccountName}}</mat-option>\\r\\n                        </mat-select>\\r\\n                    </mat-form-field> -->\\r\\n                </div>\\r\\n                <div class=\\\"col-md-3\\\">\\r\\n                    <mat-form-field>\\r\\n                      <input matInput [satDatepicker]=\\\"resultPicker\\\" formControlName=\\\"date\\\">\\r\\n                      <sat-datepicker\\r\\n                          #resultPicker\\r\\n                          [rangeMode]=\\\"true\\\">\\r\\n                      </sat-datepicker>\\r\\n                      <sat-datepicker-toggle matSuffix [for]=\\\"resultPicker\\\"></sat-datepicker-toggle>\\r\\n                    </mat-form-field>\\r\\n                </div>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"row\\\">\\r\\n            <div class=\\\"col-md-8\\\"></div>\\r\\n            <div class=\\\"col-md-4\\\">\\r\\n                <!-- <button class=\\\"pull-right\\\" mat-stroked-button color=\\\"accent\\\"><mat-icon aria-hidden=\\\"false\\\" aria-label=\\\"Example home icon\\\">\\r\\n                    vertical_align_bottom </mat-icon\\r\\n                  >Pdf Export</button> -->\\r\\n                <!-- <button class=\\\"pull-right\\\" type=\\\"submit\\\" mat-stroked-button color=\\\"accent\\\" style=\\\"margin-right: 10px\\\">Update Filters</button> -->\\r\\n                <hum-button [isSubmit]=\\\"true\\\" [type]=\\\"'save'\\\" [text]=\\\"'UPDATE FILTERS'\\\">\\r\\n                  </hum-button>\\r\\n                <hum-button (click)=\\\"ExportPdf(trailbalFilterForm.value)\\\" [isSubmit]=\\\"true\\\" [type]=\\\"'download'\\\" [text]=\\\"'PDF EXPORT'\\\">\\r\\n                  </hum-button>\\r\\n              </div>\\r\\n          </div>\\r\\n        </form><br>\\r\\n        <mat-divider></mat-divider>\\r\\n        <hum-table [headers]=\\\"trialListHeaders$\\\" [items]=\\\"trialbalFilterList$\\\"></hum-table>\\r\\n        <div *ngIf=\\\"(trialbalFilterList$ | async)\\\">\\r\\n            <h5 class=\\\"display_inline_block\\\">Total Debits: </h5><strong>{{this.debitSumForReport}}</strong><br>\\r\\n            <h5 class=\\\"display_inline_block\\\">Total Credits: </h5><strong>{{this.creditSumForReport}}</strong>\\r\\n          </div>\\r\\n          <!-- <mat-paginator\\r\\n            [length]=\\\"totalCount\\\"\\r\\n            [pageSize]=\\\"pageSize\\\"\\r\\n            [pageIndex]=\\\"pageIndex\\\"\\r\\n            [pageSizeOptions]=\\\"[5, 10, 25, 100]\\\"\\r\\n            (page)=\\\"pageEvent($event)\\\"\\r\\n          >\\r\\n          </mat-paginator> -->\\r\\n      </mat-card>\\r\\n    </div>\\r\\n  </mat-card>\\r\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Rhc2hib2FyZC9hY2NvdW50aW5nL3RyaWFsLWJhbGFuY2UtcmVwb3J0L3RyaWFsLWJhbGFuY2UtcmVwb3J0LmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit, HostListener } from '@angular/core';\r\nimport { ReportService } from '../report-services/report.service';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\r\nimport { GlobalSharedService } from 'src/app/shared/services/global-shared.service';\r\nimport { IMenuList } from 'src/app/shared/dbheader/dbheader.component';\r\nimport { Observable, of } from 'rxjs';\r\nimport { IDropDownModel } from '../report-services/report-models';\r\nimport { map } from 'rxjs/operators';\r\nimport { IOpenedChange } from 'projects/library/src/lib/components/search-dropdown/search-dropdown.model';\r\nimport { GLOBAL } from 'src/app/shared/global';\r\n\r\nclass TrialBalanceFilter {\r\n  public static trialBalanceFilter: TrialBalanceFilterModel;\r\n}\r\n\r\n@Component({\r\n  selector: 'app-trial-balance-report',\r\n  templateUrl: './trial-balance-report.component.html',\r\n  styleUrls: ['./trial-balance-report.component.scss']\r\n})\r\n\r\nexport class TrialBalanceReportComponent implements OnInit {\r\n  trailBalanceData: any[];\r\n  trailFilters: TrialFilter;\r\n  trialBalanceLoader = false;\r\n  FromDate: any;\r\n  trialBalanceDateRange: any[];\r\n\r\n  accountDropdown: any[];\r\n  currencyDropdown: any[];\r\n  officeDropdown: any[];\r\n  recordTypeDropdown: any[];\r\n\r\n  intialFlagValue = 0;\r\n  selectedOffices: any[];\r\n  selectedCurrency: any;\r\n  selectedJournal: any;\r\n  defaultRecordType: any;\r\n  selectedAccounts: any[];\r\n  menuList: IMenuList[] = [];\r\n  // Report\r\n  viewPdfFlag = true;\r\n  debitSumForReport = 0.0;\r\n  creditSumForReport = 0.0;\r\n  balanceSumForReport = 0.0;\r\n\r\n  currencyId$: Observable<IDropDownModel[]>;\r\n  recordType$: Observable<IDropDownModel[]>;\r\n  trialListHeaders$ = of(['Account', 'Account Name', 'Description', 'Currency',\r\n  'Debit', 'Credit']);\r\n  trialbalFilterList$: Observable<ITrialList[]>;\r\n  trailbalFilterForm: FormGroup;\r\n\r\n  totalCount = 0;\r\n  pageSize = 10;\r\n  pageIndex: 0;\r\n  screenHeight: number;\r\n  screenWidth: number;\r\n  scrollStyles: any;\r\n\r\n  constructor(\r\n    private accountservice: ReportService,\r\n    private toastr: ToastrService,\r\n    private fb: FormBuilder,\r\n    private globalService: GlobalSharedService\r\n  ) {\r\n    this.FromDate = '01/01/' + new Date().getFullYear();\r\n    this.trailFilters = {\r\n      CurrencyId: 1,\r\n      OfficesList: [],\r\n      RecordType: 1,\r\n      fromdate: this.FromDate,\r\n      // todate: new Date(),\r\n      accountLists: [],\r\n      date: {'begin': new Date(new Date().getFullYear(), 0, 1), 'end': new Date()}\r\n    };\r\n    this.recordTypeDropdown = [\r\n      {\r\n        value: 1,\r\n        name: 'Single'\r\n      },\r\n      {\r\n        value: 2,\r\n        name: 'Consolidate'\r\n      }\r\n    ];\r\n    this.recordType$ = of(this.recordTypeDropdown);\r\n\r\n    this.defaultRecordType = this.recordTypeDropdown[0].Id;\r\n\r\n    this.trialBalanceDateRange = [];\r\n    this.trialBalanceDateRange.push(\r\n      new Date(\r\n        new Date().getFullYear(),\r\n        0,\r\n        1,\r\n        new Date().getHours(),\r\n        new Date().getMinutes(),\r\n        new Date().getSeconds()\r\n      )\r\n    );\r\n    this.trialBalanceDateRange.push(\r\n      new Date(\r\n        new Date().getFullYear(),\r\n        new Date().getMonth(),\r\n        new Date().getDate(),\r\n        new Date().getHours(),\r\n        new Date().getMinutes(),\r\n        new Date().getSeconds()\r\n      )\r\n    );\r\n    this.getScreenSize();\r\n  }\r\n\r\n  @HostListener('window:resize', ['$event'])\r\n   getScreenSize(event?) {\r\n     this.screenHeight = window.innerHeight;\r\n     this.screenWidth = window.innerWidth;\r\n     this.scrollStyles = {\r\n       'overflow-y': 'auto',\r\n       height: this.screenHeight - 110 + 'px',\r\n       'overflow-x': 'hidden'\r\n     };\r\n   }\r\n\r\n  ngOnInit() {\r\n    this.getCurrencyCodeList();\r\n    this.getOfficeCodeList();\r\n    this.GetAccountDetails();\r\n\r\n    this.globalService.setMenuHeaderName('Trial Balance');\r\n    this.globalService.setMenuList(this.menuList);\r\n    this.trailbalFilterForm = this.fb.group({\r\n      'OfficesList': ['', Validators.required],\r\n      'CurrencyId': ['', Validators.required],\r\n      'RecordType': [1, Validators.required],\r\n      'accountLists': ['', Validators.required],\r\n      'date': [{'begin': new Date(new Date().getFullYear(), 0, 1), 'end': new Date()}]\r\n    });\r\n  }\r\n\r\n   //#region \"onApplyingFilter\"\r\n   onApplyingFilter(value) {\r\n    if (this.FromDate == null) {\r\n      this.toastr.error('Please Select Date');\r\n    } else {\r\n      TrialBalanceFilter.trialBalanceFilter = {\r\n        CurrencyId: value.CurrencyId,\r\n        accountLists: value.accountLists,\r\n        RecordType: value.RecordType,\r\n        OfficesList: value.OfficesList,\r\n        fromdate: new Date(\r\n          new Date(value.date.begin).getFullYear(),\r\n          new Date(value.date.begin).getMonth(),\r\n          new Date(value.date.begin).getDate(),\r\n          new Date().getHours(),\r\n          new Date().getMinutes(),\r\n          new Date().getSeconds()\r\n        ),\r\n        todate: new Date(\r\n          new Date(value.date.end).getFullYear(),\r\n          new Date(value.date.end).getMonth(),\r\n          new Date(value.date.end).getDate(),\r\n          new Date().getHours(),\r\n          new Date().getMinutes(),\r\n          new Date().getSeconds()\r\n        ),\r\n      };\r\n      this.GetAllTrailBalance(TrialBalanceFilter.trialBalanceFilter);\r\n    }\r\n  }\r\n  pageEvent(e) {\r\n    this.pageIndex = e.pageIndex;\r\n    this.pageSize = e.pageSize;\r\n    // this.voucherFilter.totalCount =  e.length;\r\n\r\n    // this.getVoucherList();\r\n  }\r\n  //#endregion\r\n  onOpenedAccountMultiSelectChange(event: IOpenedChange) {\r\n    this.trailbalFilterForm.controls['accountLists'].setValue(event.Value);\r\n  }\r\n  onOpenedOfficeMultiSelectChange(event: IOpenedChange) {\r\n    this.trailbalFilterForm.controls['OfficesList'].setValue(event.Value);\r\n  }\r\n  //#region  \"getCurrencyCodeList\"\r\n  getCurrencyCodeList() {\r\n    this.accountservice\r\n      .GetAllCurrencyCodeList()\r\n      .subscribe(\r\n        data => {\r\n          this.currencyDropdown = [];\r\n          if (data.data.CurrencyList != null) {\r\n            data.data.CurrencyList.forEach(element => {\r\n              this.currencyDropdown.push(element);\r\n            });\r\n            this.currencyId$ = of(this.currencyDropdown.map(y => {\r\n              return {\r\n                value: y.CurrencyId,\r\n                name: y.CurrencyCode + '-' + y.CurrencyName\r\n              };\r\n            }));\r\n            this.selectedCurrency = this.currencyDropdown[0].CurrencyId;\r\n            this.trailbalFilterForm.controls['CurrencyId'].setValue(this.selectedCurrency);\r\n            this.intialFlagValue += 1;\r\n\r\n          }\r\n        },\r\n        error => {}\r\n      );\r\n  }\r\n  //#endregion\r\n\r\n  //#region  Get Office Code in Add, Edit Dropdown\r\n  getOfficeCodeList() {\r\n    this.accountservice\r\n      .GetAllOfficeCodeList()\r\n      .subscribe(\r\n        data => {\r\n          if (data.data.OfficeDetailsList != null) {\r\n            this.officeDropdown = [];\r\n\r\n            // const allOffices = [];\r\n            const officeIds: any[] =\r\n              localStorage.getItem('ALLOFFICES') != null\r\n                ? localStorage.getItem('ALLOFFICES').split(',')\r\n                : null;\r\n\r\n            data.data.OfficeDetailsList.forEach(element => {\r\n              this.officeDropdown.push({\r\n                Id: element.OfficeId,\r\n                Name: element.OfficeName\r\n              });\r\n            });\r\n\r\n            officeIds.forEach(x => {\r\n              const officeData = this.officeDropdown.filter(\r\n                // tslint:disable-next-line:radix\r\n                e => e.OfficeId === parseInt(x)\r\n              )[0];\r\n              // this.officeDropdown.push(officeData);\r\n            });\r\n\r\n            this.selectedOffices = [];\r\n            this.officeDropdown.forEach(x => {\r\n              // tslint:disable-next-line:radix\r\n              this.selectedOffices.push(x.Id);\r\n            });\r\n            this.trailbalFilterForm.controls['OfficesList'].setValue(this.selectedOffices);\r\n            this.intialFlagValue += 1;\r\n\r\n            this.officeDropdown = this.accountservice.sortDropdown(\r\n              this.officeDropdown,\r\n              'OfficeName'\r\n            );\r\n          }\r\n        },\r\n        error => {\r\n          if (error.StatusCode === 500) {\r\n            this.toastr.error('Internal Server Error....');\r\n          } else if (error.StatusCode === 401) {\r\n            this.toastr.error('Unauthorized Access Error....');\r\n          } else if (error.StatusCode === 403) {\r\n            this.toastr.error('Forbidden Error....');\r\n          }\r\n        }\r\n      );\r\n  }\r\n  //#endregion\r\n\r\n  //#region  \"GetAccountDetails\"\r\n  GetAccountDetails() {\r\n    this.accountservice\r\n      .GetAccountDetails()\r\n      .subscribe(\r\n        data => {\r\n          this.accountDropdown = [];\r\n          this.selectedAccounts = [];\r\n          if (data.StatusCode === 200) {\r\n            data.data.AccountDetailList = data.data.AccountDetailList.filter(\r\n              x => x.AccountLevelId === 4\r\n            );\r\n            data.data.AccountDetailList.forEach(element => {\r\n              this.accountDropdown.push({\r\n                Id: element.AccountCode,\r\n                Name: element.AccountName\r\n              });\r\n            });\r\n\r\n            data.data.AccountDetailList.forEach(e => {\r\n              this.selectedAccounts.push(e.AccountCode);\r\n            }\r\n            );\r\n            this.trailbalFilterForm.controls['accountLists'].setValue(this.selectedAccounts);\r\n\r\n            this.intialFlagValue += 1;\r\n          }\r\n        },\r\n        error => {\r\n          if (error.StatusCode === 500) {\r\n            this.toastr.error('Internal Server Error....');\r\n          } else if (error.StatusCode === 401) {\r\n            this.toastr.error('Unauthorized Access Error....');\r\n          } else if (error.StatusCode === 403) {\r\n            this.toastr.error('Forbidden Error....');\r\n          } else {\r\n          }\r\n        }\r\n      );\r\n  }\r\n\r\n  get AccountIds() {\r\n    return this.trailbalFilterForm.get('accountLists').value;\r\n  }\r\n  get OfficeIds() {\r\n    return this.trailbalFilterForm.get('OfficesList').value;\r\n  }\r\n  //#endregion\r\n  //#region  \"GetAllTrailBalance\"\r\n  GetAllTrailBalance(trialBalanceFilter: any) {\r\n    this.showHideTrialBalanceLoader(true);\r\n\r\n    this.accountservice\r\n      .GetAllTrailBalance(\r\n        trialBalanceFilter\r\n      )\r\n      .subscribe(\r\n        data => {\r\n          this.trailBalanceData = [];\r\n\r\n          if (\r\n            data.StatusCode === 200 &&\r\n            data.data.TrialBalanceList != null &&\r\n            data.data.TrialBalanceList.length > 0\r\n          ) {\r\n            data.data.TrialBalanceList.forEach(element => {\r\n              this.trailBalanceData.push(element);\r\n            });\r\n            this.trialbalFilterList$ = of(this.trailBalanceData).pipe(\r\n              map(r => r.map(v => ({\r\n                Account: v.ChartOfAccountNewCode,\r\n                AccountName: v.ChartOfAccountNewCode + '-' + v.AccountName,\r\n                Description: v.Description,\r\n                Currency: v.CurrencyName,\r\n                Debit: v.DebitAmount,\r\n                Credit: v.CreditAmount\r\n               }) as ITrialList)));\r\n\r\n            this.debitSumForReport = this.accountservice.sumOfListInArray(\r\n              this.trailBalanceData,\r\n              'DebitAmount'\r\n            );\r\n            this.creditSumForReport = this.accountservice.sumOfListInArray(\r\n              this.trailBalanceData,\r\n              'CreditAmount'\r\n            );\r\n            this.balanceSumForReport =\r\n              this.debitSumForReport - this.creditSumForReport;\r\n          } else if (data.StatusCode === 400) {\r\n            this.toastr.warning(data.Message);\r\n          }\r\n          this.showHideTrialBalanceLoader(false);\r\n          // console.log(this.trialbalFilterList$);\r\n        },\r\n        error => {\r\n          this.showHideTrialBalanceLoader(false);\r\n        }\r\n      );\r\n  }\r\n  //#endregion\r\n\r\n  //#region \"export pdf\"\r\n  printTrialBalanceReport(): void {\r\n    let printContents, popupWin;\r\n    printContents = document.getElementById(\r\n      'print-content-trial-balance-report'\r\n    ).innerHTML;\r\n    popupWin = window.open('', '_blank', '');\r\n    popupWin.document.open();\r\n    popupWin.document.write(`\r\n            <html>\r\n            <head>\r\n                <title></title>\r\n                <style>\r\n                //........Customized style.......\r\n                </style>\r\n            </head>\r\n            <body onload=\"window.print();window.close()\">${printContents}</body>\r\n            </html>`);\r\n    popupWin.document.close();\r\n  }\r\n  //#endregion\r\n\r\n  //#region \"show/hide\"\r\n\r\n  showHideTrialBalanceLoader(flag: boolean) {\r\n    this.trialBalanceLoader = flag;\r\n  }\r\n\r\n  showTrialBalancePdf() {\r\n    this.viewPdfFlag = false;\r\n  }\r\n\r\n  hideTrialBalancePdf() {\r\n    this.viewPdfFlag = true;\r\n  }\r\n\r\n  //#endregion\r\n  ExportPdf(value) {\r\n    TrialBalanceFilter.trialBalanceFilter = {\r\n      CurrencyId: value.CurrencyId,\r\n      accountLists: value.accountLists,\r\n      RecordType: value.RecordType,\r\n      OfficesList: value.OfficesList,\r\n      fromdate: new Date(\r\n        new Date(value.date.begin).getFullYear(),\r\n        new Date(value.date.begin).getMonth(),\r\n        new Date(value.date.begin).getDate(),\r\n        new Date().getHours(),\r\n        new Date().getMinutes(),\r\n        new Date().getSeconds()\r\n      ),\r\n      todate: new Date(\r\n        new Date(value.date.end).getFullYear(),\r\n        new Date(value.date.end).getMonth(),\r\n        new Date(value.date.end).getDate(),\r\n        new Date().getHours(),\r\n        new Date().getMinutes(),\r\n        new Date().getSeconds()\r\n      ),\r\n    };\r\n    this.accountservice.onExportTrialBalancePdf(TrialBalanceFilter.trialBalanceFilter);\r\n  }\r\n  customizeValue(data: any) {\r\n    return parseFloat(data.value).toFixed(4);\r\n  }\r\n}\r\n\r\ninterface TrialFilter {\r\n  OfficesList: any;\r\n  CurrencyId: number;\r\n  fromdate: any;\r\n  // todate: any;\r\n  RecordType: number;\r\n  accountLists: any;\r\n  date;\r\n}\r\n\r\nclass TrialBalanceFilterModel {\r\n  CurrencyId: number;\r\n  accountLists: any;\r\n  RecordType: number;\r\n  OfficesList: any;\r\n  fromdate: any;\r\n  todate: any;\r\n}\r\n\r\ninterface ITrialList {\r\n  Account;\r\n  AccountName;\r\n  Description;\r\n  Currency;\r\n  Debit;\r\n  Credit;\r\n}\r\n"],"sourceRoot":""}