<table class="table table-striped">
  <thead>
    <tr>
      <th *ngFor="let header of headers | async">
        {{header}}
      </th>
    </tr>
  </thead>
  <tbody *ngFor="let item of items | async; let i=index;">
    <tr (click)="switchSubList(i)" class="main-table">
      <td *ngFor="let header of itemHeaders | async; let j=index ">{{item[header]}}</td>
      <td *ngIf="itemActions && (itemActions.items)">
        <hum-button *ngIf="itemActions.items?.button?.status" [type]="'add'" [text]="itemActions.items.button.text"
          (click)='action(item,"button",$event)'></hum-button>
        <i *ngIf="itemActions.items?.download" class="fas fa-download" (click)='action(item,"download",$event)'></i>
        <i *ngIf="itemActions.items?.edit" class="fas fa-edit" (click)='action(item,"edit",$event)'></i>
        <i *ngIf="itemActions.items?.delete" class="fas fa-trash" (click)='action(item,"delete",$event)'></i>


      </td>

    </tr>

    <tr *ngIf="isShowSubList[i]" class="sub-table">
      <td [attr.colspan]="(headers | async).length + 1">
        <div class="sub-table">
          <span>{{subTitle}}</span>
          <table class="table table-striped sub-table">
            <thead>
              <tr>
                <th *ngFor="let header of subHeaders | async">
                  {{header}}
                </th>
              </tr>
            </thead>

            <tbody *ngIf="subItems[i]">
              <tr *ngFor="let subItem of subItems[i]">
                <td *ngFor="let header of subItemHeaders | async; let j=index ">{{subItem[header]}}</td>
                <td *ngIf="itemActions && (itemActions.subitems)">
                  <hum-button *ngIf="itemActions.subitems?.button?.status" [type]="'add'" [text]="itemActions.items.button.text"
                    (click)='subaction(subItem, item ,"button")'></hum-button>
                  <i *ngIf="itemActions.subitems?.download" class="fas fa-download"
                    (click)='subaction(subItem, item ,"download")'></i>
                  <i *ngIf="itemActions.subitems?.edit" class="fas fa-edit" (click)='subAction(subItem, item ,"edit")'></i>
                  <i *ngIf="itemActions.subitems?.delete" class="fas fa-trash"
                    (click)='subAction(subItem, item ,"delete")'></i>


                </td>

                <!-- <td><i class="fas fa-trash" (click)='deleteClicked(subItem, item)'></i> </td> -->
              </tr>
            </tbody>
          </table>
        </div>

      </td>
    </tr>



  </tbody>
</table>